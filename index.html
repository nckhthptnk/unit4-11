<!doctype html>
<html lang="vi" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Unit 4: Preserving World Heritage</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="/_sdk/data_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
        body {
            box-sizing: border-box;
        }
        
        .flashcard {
            perspective: 1000px;
            height: 200px;
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
        }
        
        @media (min-width: 640px) {
            .flashcard {
                height: 240px;
            }
        }
        
        @media (min-width: 768px) {
            .flashcard {
                height: 280px;
            }
        }
        
        .flashcard-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        
        .flashcard.flipped .flashcard-inner {
            transform: rotateY(180deg);
        }
        
        .flashcard-front, .flashcard-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 16px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        
        @media (min-width: 640px) {
            .flashcard-front, .flashcard-back {
                border-radius: 16px;
                padding: 20px;
            }
        }
        
        @media (min-width: 768px) {
            .flashcard-front, .flashcard-back {
                padding: 24px;
                box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            }
        }
        
        .flashcard-back {
            transform: rotateY(180deg);
        }
        
        .highlight {
            background-color: #fef08a;
            padding: 2px 4px;
            border-radius: 4px;
            font-weight: 500;
        }
        
        .progress-bar {
            transition: width 0.5s ease;
        }
        
        .tab-button {
            transition: all 0.3s ease;
            -webkit-tap-highlight-color: transparent;
        }
        
        .tab-button.active {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .tab-button:active {
            transform: scale(0.95);
        }
        
        .grammar-topic {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .grammar-topic:hover {
            transform: translateX(8px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .quiz-option {
            transition: all 0.2s ease;
            cursor: pointer;
            -webkit-tap-highlight-color: transparent;
        }
        
        .quiz-option:hover {
            transform: scale(1.02);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .quiz-option:active {
            transform: scale(0.98);
        }
        
        .correct {
            background-color: #dcfce7 !important;
            border-color: #16a34a !important;
            animation: correctPulse 0.5s ease;
        }
        
        .incorrect {
            background-color: #fecaca !important;
            border-color: #dc2626 !important;
            animation: incorrectShake 0.5s ease;
        }
        
        @keyframes correctPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        @keyframes incorrectShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        .hidden {
            display: none;
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @media (max-width: 640px) {
            .tab-button.active {
                transform: none;
                box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            }
            
            .quiz-option:hover {
                transform: none;
                box-shadow: none;
            }
            
            .quiz-option:active {
                transform: scale(0.98);
                background-color: rgba(0,0,0,0.05);
            }
            
            .grammar-topic:hover {
                transform: none;
                box-shadow: none;
            }
            
            .heritage-card:hover {
                transform: none;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
        }
        
        /* Extra small devices */
        @media (max-width: 480px) {
            .flashcard {
                height: 180px;
            }
            
            .flashcard-front, .flashcard-back {
                padding: 12px;
                border-radius: 8px;
            }
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
 </head>
 <body class="h-full bg-gradient-to-br from-blue-50 to-indigo-100 font-sans">
  <div class="min-h-full flex flex-col"><!-- Header -->
   <header class="bg-white shadow-sm border-b border-gray-200">
    <div class="max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-3">
     <div class="flex items-center justify-between"><button id="homeButton" class="flex items-center space-x-1 text-indigo-600 hover:text-indigo-800 transition-colors flex-shrink-0">
       <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
       </svg><span class="text-xs sm:text-sm font-medium hidden xs:inline">Trang chá»§</span> </button>
      <h1 id="unitTitle" class="text-sm sm:text-lg md:text-xl font-bold text-gray-900 text-center flex-1 px-2 leading-tight">Unit 4: Preserving World Heritage</h1>
      <div class="w-12 sm:w-16 flex-shrink-0"></div>
     </div>
    </div>
   </header><!-- Progress Section -->
   <div class="bg-white border-b border-gray-200">
    <div class="max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-4">
     <h2 class="text-base sm:text-lg font-semibold text-gray-900 mb-3">Tiáº¿n Ä‘á»™ há»c táº­p</h2>
     <div class="grid grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4">
      <div class="bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg p-3 text-white">
       <div class="text-xs sm:text-sm opacity-90">
        Tá»•ng
       </div>
       <div id="totalProgress" class="text-lg sm:text-2xl font-bold">
        0%
       </div>
      </div>
      <div class="bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg p-3 text-white">
       <div class="text-xs sm:text-sm opacity-90">
        Tá»« vá»±ng
       </div>
       <div id="vocabularyProgress" class="text-lg sm:text-2xl font-bold">
        0%
       </div>
      </div>
      <div class="bg-gradient-to-r from-green-500 to-green-600 rounded-lg p-3 text-white">
       <div class="text-xs sm:text-sm opacity-90">
        BÃ i Ä‘á»c
       </div>
       <div id="readingProgress" class="text-lg sm:text-2xl font-bold">
        0%
       </div>
      </div>
      <div class="bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg p-3 text-white">
       <div class="text-xs sm:text-sm opacity-90">
        Ngá»¯ phÃ¡p
       </div>
       <div id="grammarProgress" class="text-lg sm:text-2xl font-bold">
        0%
       </div>
      </div>
     </div>
    </div>
   </div><!-- Tab Navigation -->
   <div class="bg-white border-b border-gray-200">
    <div class="max-w-7xl mx-auto px-3 sm:px-6 lg:px-8">
     <nav class="flex"><button id="vocabularyTab" class="tab-button flex-1 py-3 px-2 border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 font-medium text-xs sm:text-sm text-center"> Tá»« vá»±ng </button> <button id="readingTab" class="tab-button flex-1 py-3 px-2 border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 font-medium text-xs sm:text-sm text-center"> BÃ i Ä‘á»c </button> <button id="grammarTab" class="tab-button flex-1 py-3 px-2 border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 font-medium text-xs sm:text-sm text-center"> Ngá»¯ phÃ¡p </button> <button id="heritageTab" class="tab-button flex-1 py-3 px-2 border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 font-medium text-xs sm:text-sm text-center"> Di sáº£n tháº¿ giá»›i </button>
     </nav>
    </div>
   </div><!-- Main Content -->
   <main class="flex-1 max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-4 sm:py-6" style="min-height: 500px; height: calc(100vh - 240px); overflow-y: auto;"><!-- Vocabulary Section -->
    <div id="vocabularySection" class="section" style="height: 100%; display: flex; flex-direction: column;"><!-- Vocabulary Mode Toggle -->
     <div class="max-w-2xl mx-auto mb-4 sm:mb-6">
      <div class="bg-white rounded-lg shadow-sm p-1 sm:p-2 flex"><button id="learnModeBtn" class="flex-1 py-2 sm:py-3 px-2 sm:px-4 rounded-lg font-medium transition-colors bg-indigo-600 text-white text-sm sm:text-base"> ğŸ“š Há»c tá»« </button> <button id="testModeBtn" class="flex-1 py-2 sm:py-3 px-2 sm:px-4 rounded-lg font-medium transition-colors text-gray-600 hover:text-gray-800 text-sm sm:text-base"> ğŸ“ Kiá»ƒm tra </button>
      </div>
     </div><!-- Learn Mode (Flashcards) -->
     <div id="learnMode" class="flex-1 flex flex-col justify-center">
      <div class="flashcard" id="flashcard">
       <div class="flashcard-inner">
        <div class="flashcard-front bg-white">
         <div class="text-lg sm:text-2xl md:text-3xl font-bold text-gray-800 mb-2 sm:mb-4 text-center break-words" id="wordText">
          heritage
         </div>
         <div class="text-sm sm:text-base md:text-lg text-gray-600 mb-2 sm:mb-3" id="wordType">
          [noun]
         </div>
         <div class="text-xs sm:text-sm text-gray-500" id="wordIPA">
          /ËˆherÉªtÉªdÊ’/
         </div>
         <div class="mt-3 sm:mt-6 text-xs sm:text-sm text-gray-400">
          Nháº¥n Ä‘á»ƒ xem nghÄ©a
         </div>
        </div>
        <div class="flashcard-back bg-indigo-50">
         <div class="text-base sm:text-lg md:text-xl font-semibold text-gray-800 mb-2 sm:mb-4 text-center break-words" id="wordMeaning">
          di sáº£n
         </div>
         <div class="text-xs sm:text-sm text-gray-600 mb-2 sm:mb-4 text-center px-1 sm:px-2 break-words leading-relaxed" id="wordExample"><strong>Example:</strong> The ancient temple is part of our cultural heritage.
         </div>
         <div class="text-xs text-gray-500">
          Nháº¥n Ä‘á»ƒ quay láº¡i
         </div>
        </div>
       </div>
      </div>
      <div class="flex justify-between items-center mt-4 sm:mt-6"><button id="prevWord" class="bg-gray-500 hover:bg-gray-600 text-white px-3 sm:px-6 py-2 sm:py-3 rounded-lg font-medium transition-colors text-sm sm:text-base"> â† TrÆ°á»›c </button>
       <div class="text-xs sm:text-sm text-gray-600 px-2"><span id="currentWordIndex">1</span> / <span id="totalWords">53</span>
       </div><button id="nextWord" class="bg-indigo-600 hover:bg-indigo-700 text-white px-3 sm:px-6 py-2 sm:py-3 rounded-lg font-medium transition-colors text-sm sm:text-base"> Tiáº¿p â†’ </button>
      </div>
     </div><!-- Test Mode (Quiz) -->
     <div id="testMode" class="flex-1 hidden" style="overflow-y: auto;">
      <div class="bg-white rounded-lg shadow-sm p-3 sm:p-6 md:p-8">
       <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 sm:mb-6 gap-2">
        <h3 class="text-base sm:text-lg md:text-xl font-bold text-gray-900">Kiá»ƒm tra tá»« vá»±ng - 53 cÃ¢u</h3>
        <div class="text-xs sm:text-sm text-gray-600 flex-shrink-0"><span id="currentQuestionIndex">1</span> / <span id="totalQuestions">53</span>
        </div>
       </div>
       <div id="vocabularyQuiz"><!-- Single question will be displayed here -->
       </div>
       <div class="flex justify-between items-center mt-4 sm:mt-6 gap-2"><button id="prevQuestion" class="bg-gray-500 hover:bg-gray-600 text-white px-3 sm:px-6 py-2 sm:py-3 rounded-lg font-medium transition-colors text-sm sm:text-base"> â† TrÆ°á»›c </button>
        <div class="flex"><button id="submitVocabularyTest" class="bg-green-600 hover:bg-green-700 text-white px-3 sm:px-6 py-2 sm:py-3 rounded-lg font-medium transition-colors text-sm sm:text-base"> ğŸ“ Ná»™p bÃ i </button>
        </div><button id="nextQuestion" class="bg-indigo-600 hover:bg-indigo-700 text-white px-3 sm:px-6 py-2 sm:py-3 rounded-lg font-medium transition-colors text-sm sm:text-base"> Tiáº¿p â†’ </button>
       </div>
       <div id="vocabularyTestResult" class="mt-6 hidden">
        <div class="text-center">
         <div id="vocabularyTestScore" class="text-2xl font-bold text-green-600 mb-4"></div>
         <div class="space-x-4"><button id="retakeVocabularyTest" class="bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-lg font-medium transition-colors"> ğŸ”„ LÃ m láº¡i </button> <button id="reviewMistakes" class="bg-orange-600 hover:bg-orange-700 text-white px-6 py-3 rounded-lg font-medium transition-colors"> ğŸ“‹ Xem láº¡i sai </button>
         </div>
        </div>
       </div>
      </div>
     </div>
    </div><!-- Reading Section -->
    <div id="readingSection" class="section" style="height: 100%; display: none; flex-direction: column;">
     <div class="flex-1 flex flex-col"><!-- Reading View -->
      <div id="readingView" class="flex-1 overflow-y-auto">
       <div class="bg-white rounded-lg shadow-sm p-3 sm:p-6 md:p-8 mb-4 sm:mb-6">
        <h3 class="text-base sm:text-lg md:text-xl font-bold text-gray-900 mb-4 sm:mb-6">BÃ i Ä‘á»c: Preserving Our World Heritage</h3>
        <div class="prose prose-sm sm:prose-base max-w-none text-gray-700 leading-relaxed" id="readingText">
         <p>Vietnam's <span class="highlight">world heritage sites</span> showcase the country's rich cultural and natural <span class="highlight">heritage</span>. The <span class="highlight">ancient</span> Imperial City of Hue, dating back to the 19th century, contains magnificent <span class="highlight">palaces</span>, <span class="highlight">temples</span>, and royal <span class="highlight">tombs</span>. This <span class="highlight">historic</span> complex represents the <span class="highlight">architectural</span> achievements of the Nguyen Dynasty and serves as a <span class="highlight">symbol</span> of Vietnamese <span class="highlight">civilization</span>.</p>
         <p>Ha Long Bay, another <span class="highlight">famous</span> site, features thousands of limestone <span class="highlight">towers</span> rising from emerald waters. These <span class="highlight">unique</span> formations were created over millions of years and are <span class="highlight">recognized</span> as one of the world's most <span class="highlight">outstanding</span> natural wonders. The bay's <span class="highlight">unusual</span> beauty attracts millions of visitors who come to explore its hidden caves and <span class="highlight">chambers</span>.</p>
         <p>My Son <span class="highlight">Sanctuary</span>, an important <span class="highlight">archaeological site</span>, contains the <span class="highlight">ruins</span> of ancient Cham <span class="highlight">temples</span> made of red brick and <span class="highlight">sandstone</span>. These <span class="highlight">monuments</span>, dating from the 4th to 14th centuries, demonstrate the sophisticated <span class="highlight">sculpture</span> and <span class="highlight">architecture</span> of the Cham people. Today, <span class="highlight">archaeologists</span> and <span class="highlight">conservation</span> experts work together to <span class="highlight">preserve</span> these precious <span class="highlight">historical</span> treasures for future <span class="highlight">generations</span>. Each site tells a <span class="highlight">unique</span> story of Vietnam's diverse cultural <span class="highlight">legacy</span>.</p>
        </div>
       </div>
       <div class="bg-white rounded-lg shadow-sm p-6 sm:p-8">
        <h4 class="text-lg font-bold text-gray-900 mb-6">CÃ¢u há»i tráº¯c nghiá»‡m</h4>
        <div id="readingQuiz" class="space-y-6"><!-- Quiz questions will be generated here -->
        </div>
        <div id="readingResult" class="mt-6 hidden">
         <div class="text-center">
          <div id="readingScore" class="text-2xl font-bold text-green-600 mb-2"></div><button id="retakeReadingQuiz" class="bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-lg font-medium transition-colors"> LÃ m láº¡i </button>
         </div>
        </div>
       </div>
      </div>
     </div>
    </div><!-- Grammar Section -->
    <div id="grammarSection" class="section" style="height: 100%; display: none; flex-direction: column;">
     <div class="flex-1 flex flex-col">
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 flex-1"><!-- Grammar Topics -->
       <div class="lg:col-span-1">
        <h3 class="text-lg font-bold text-gray-900 mb-4">Chá»n chá»§ Ä‘á»</h3>
        <div class="space-y-3">
         <div class="grammar-topic bg-white rounded-lg p-4 border border-gray-200 hover:border-indigo-300" data-topic="conjunctions">
          <div class="font-medium text-gray-900">
           Pair of Conjunctions
          </div>
          <div class="text-sm text-gray-600">
           both...and, either...or, neither...nor
          </div>
         </div>
         <div class="grammar-topic bg-white rounded-lg p-4 border border-gray-200 hover:border-indigo-300" data-topic="comparative">
          <div class="font-medium text-gray-900">
           Comparative
          </div>
          <div class="text-sm text-gray-600">
           So sÃ¡nh hÆ¡n
          </div>
         </div>
         <div class="grammar-topic bg-white rounded-lg p-4 border border-gray-200 hover:border-indigo-300" data-topic="superlative">
          <div class="font-medium text-gray-900">
           Superlative
          </div>
          <div class="text-sm text-gray-600">
           So sÃ¡nh nháº¥t
          </div>
         </div>
         <div class="grammar-topic bg-white rounded-lg p-4 border border-gray-200 hover:border-indigo-300" data-topic="compound">
          <div class="font-medium text-gray-900">
           Compound Nouns
          </div>
          <div class="text-sm text-gray-600">
           Danh tá»« ghÃ©p
          </div>
         </div>
         <div class="grammar-topic bg-indigo-600 text-white rounded-lg p-4 border border-indigo-600 hover:bg-indigo-700" data-topic="exercises">
          <div class="font-medium">
           BÃ i táº­p tá»•ng há»£p
          </div>
          <div class="text-sm opacity-90">
           30 cÃ¢u tráº¯c nghiá»‡m
          </div>
         </div>
        </div>
       </div><!-- Grammar Content -->
       <div class="lg:col-span-2 flex flex-col">
        <div id="grammarContent" class="bg-white rounded-lg shadow-sm p-4 sm:p-6 flex-1 overflow-y-auto max-h-96">
         <div class="text-center text-gray-500 py-8">
          <svg class="w-12 h-12 mx-auto mb-3 text-gray-300" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
          </svg>
          <p class="text-base">Chá»n má»™t chá»§ Ä‘á» Ä‘á»ƒ báº¯t Ä‘áº§u há»c</p>
         </div>
        </div>
       </div>
      </div>
     </div>
    </div><!-- Heritage Section -->
    <div id="heritageSection" class="section" style="height: 100%; display: none; flex-direction: column;">
     <div class="flex-1 overflow-y-auto">
      <div class="text-center mb-4 sm:mb-6">
       <h3 class="text-lg sm:text-xl md:text-2xl font-bold text-gray-900 mb-2">Di sáº£n tháº¿ giá»›i ná»•i tiáº¿ng</h3>
       <p class="text-sm sm:text-base text-gray-600 px-2">KhÃ¡m phÃ¡ nhá»¯ng di sáº£n vÄƒn hÃ³a vÃ  thiÃªn nhiÃªn Ä‘Æ°á»£c UNESCO cÃ´ng nháº­n</p>
      </div>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6"><!-- Vietnam Heritage Sites -->
       <div class="heritage-card bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-lg transition-shadow">
        <div class="h-24 sm:h-28 md:h-32 bg-gradient-to-br from-emerald-400 to-teal-600 flex items-center justify-center">
         <div class="text-center">
          <div class="text-2xl sm:text-3xl md:text-4xl mb-1 sm:mb-2">
           ğŸ”ï¸
          </div>
          <div class="text-white text-xs sm:text-sm font-medium">
           ThiÃªn nhiÃªn
          </div>
         </div>
        </div>
        <div class="p-3 sm:p-4">
         <h4 class="font-bold text-sm sm:text-base md:text-lg text-gray-900 mb-1 sm:mb-2">Vá»‹nh Háº¡ Long</h4>
         <p class="text-xs sm:text-sm text-gray-600 mb-1 sm:mb-2">ğŸ‡»ğŸ‡³ Viá»‡t Nam â€¢ Di sáº£n thiÃªn nhiÃªn (1994)</p>
         <p class="text-xs sm:text-sm text-gray-700 mb-2 sm:mb-3 leading-relaxed">HÃ ng nghÃ¬n thÃ¡p Ä‘Ã¡ vÃ´i ná»•i lÃªn tá»« vÃ¹ng biá»ƒn xanh ngá»c bÃ­ch, táº¡o nÃªn cáº£nh quan Ä‘á»™c Ä‘Ã¡o vá»›i 1.969 hÃ²n Ä‘áº£o.</p>
         <div class="text-xs text-emerald-600 font-medium">
          ğŸ“ Quáº£ng Ninh â€¢ ğŸŒŠ 1.553 kmÂ²
         </div>
        </div>
       </div>
       <div class="heritage-card bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-lg transition-shadow">
        <div class="h-32 bg-gradient-to-br from-orange-400 to-red-600 flex items-center justify-center">
         <div class="text-center">
          <div class="text-4xl mb-2">
           ğŸ°
          </div>
          <div class="text-white text-sm font-medium">
           Cung Ä‘Ã¬nh
          </div>
         </div>
        </div>
        <div class="p-4">
         <h4 class="font-bold text-lg text-gray-900 mb-2">Cá»‘ Ä‘Ã´ Huáº¿</h4>
         <p class="text-sm text-gray-600 mb-2">ğŸ‡»ğŸ‡³ Viá»‡t Nam â€¢ Di sáº£n vÄƒn hÃ³a (1993)</p>
         <p class="text-sm text-gray-700 mb-3">Quáº§n thá»ƒ kiáº¿n trÃºc cung Ä‘Ã¬nh vá»›i cung Ä‘iá»‡n, Ä‘á»n chÃ¹a vÃ  lÄƒng táº©m cá»§a triá»u Nguyá»…n (1802-1945).</p>
         <div class="text-xs text-orange-600 font-medium">
          ğŸ“ Thá»«a ThiÃªn Huáº¿ â€¢ ğŸ›ï¸ 13 lÄƒng táº©m
         </div>
        </div>
       </div>
       <div class="heritage-card bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-lg transition-shadow">
        <div class="h-32 bg-gradient-to-br from-amber-400 to-orange-600 flex items-center justify-center">
         <div class="text-center">
          <div class="text-4xl mb-2">
           ğŸ•‰ï¸
          </div>
          <div class="text-white text-sm font-medium">
           ThÃ¡nh Ä‘á»‹a
          </div>
         </div>
        </div>
        <div class="p-4">
         <h4 class="font-bold text-lg text-gray-900 mb-2">ThÃ¡nh Ä‘á»‹a Má»¹ SÆ¡n</h4>
         <p class="text-sm text-gray-600 mb-2">ğŸ‡»ğŸ‡³ Viá»‡t Nam â€¢ Di sáº£n vÄƒn hÃ³a (1999)</p>
         <p class="text-sm text-gray-700 mb-3">Quáº§n thá»ƒ Ä‘á»n thÃ¡p ChÄƒm cá»• Ä‘Æ°á»£c xÃ¢y dá»±ng tá»« gáº¡ch Ä‘á» vÃ  sa tháº¡ch tá»« tháº¿ ká»· 4-14, trung tÃ¢m tÃ´n giÃ¡o Hindu.</p>
         <div class="text-xs text-amber-600 font-medium">
          ğŸ“ Quáº£ng Nam â€¢ ğŸ•‰ï¸ 70 cÃ´ng trÃ¬nh
         </div>
        </div>
       </div>
       <div class="heritage-card bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-lg transition-shadow">
        <div class="h-32 bg-gradient-to-br from-purple-400 to-pink-600 flex items-center justify-center">
         <div class="text-center">
          <div class="text-4xl mb-2">
           ğŸ®
          </div>
          <div class="text-white text-sm font-medium">
           Phá»‘ cá»•
          </div>
         </div>
        </div>
        <div class="p-4">
         <h4 class="font-bold text-lg text-gray-900 mb-2">Phá»‘ cá»• Há»™i An</h4>
         <p class="text-sm text-gray-600 mb-2">ğŸ‡»ğŸ‡³ Viá»‡t Nam â€¢ Di sáº£n vÄƒn hÃ³a (1999)</p>
         <p class="text-sm text-gray-700 mb-3">ThÃ nh phá»‘ cáº£ng cá»• vá»›i kiáº¿n trÃºc Ä‘á»™c Ä‘Ã¡o pha trá»™n vÄƒn hÃ³a Viá»‡t, Trung, Nháº­t tá»« tháº¿ ká»· 15-19.</p>
         <div class="text-xs text-purple-600 font-medium">
          ğŸ“ Quáº£ng Nam â€¢ ğŸ® 1.107 ngÃ´i nhÃ  cá»•
         </div>
        </div>
       </div>
       <div class="heritage-card bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-lg transition-shadow">
        <div class="h-32 bg-gradient-to-br from-green-400 to-teal-600 flex items-center justify-center">
         <div class="text-center">
          <div class="text-4xl mb-2">
           ğŸ•³ï¸
          </div>
          <div class="text-white text-sm font-medium">
           Hang Ä‘á»™ng
          </div>
         </div>
        </div>
        <div class="p-4">
         <h4 class="font-bold text-lg text-gray-900 mb-2">VÆ°á»n Quá»‘c gia Phong Nha</h4>
         <p class="text-sm text-gray-600 mb-2">ğŸ‡»ğŸ‡³ Viá»‡t Nam â€¢ Di sáº£n thiÃªn nhiÃªn (2003)</p>
         <p class="text-sm text-gray-700 mb-3">Há»‡ thá»‘ng hang Ä‘á»™ng karst lá»›n nháº¥t tháº¿ giá»›i vá»›i hang SÆ¡n TrÃ  - hang Ä‘á»™ng lá»›n nháº¥t hÃ nh tinh.</p>
         <div class="text-xs text-green-600 font-medium">
          ğŸ“ Quáº£ng BÃ¬nh â€¢ ğŸ•³ï¸ 2.734 hang Ä‘á»™ng
         </div>
        </div>
       </div>
       <div class="heritage-card bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-lg transition-shadow">
        <div class="h-32 bg-gradient-to-br from-blue-400 to-indigo-600 flex items-center justify-center">
         <div class="text-center">
          <div class="text-4xl mb-2">
           ğŸ›ï¸
          </div>
          <div class="text-white text-sm font-medium">
           Di tÃ­ch
          </div>
         </div>
        </div>
        <div class="p-4">
         <h4 class="font-bold text-lg text-gray-900 mb-2">Khu di tÃ­ch ThÄƒng Long</h4>
         <p class="text-sm text-gray-600 mb-2">ğŸ‡»ğŸ‡³ Viá»‡t Nam â€¢ Di sáº£n vÄƒn hÃ³a (2010)</p>
         <p class="text-sm text-gray-700 mb-3">Trung tÃ¢m quyá»n lá»±c chÃ­nh trá»‹ cá»§a Viá»‡t Nam trong hÆ¡n 1.000 nÄƒm, tá»« tháº¿ ká»· 7 Ä‘áº¿n 19.</p>
         <div class="text-xs text-blue-600 font-medium">
          ğŸ“ HÃ  Ná»™i â€¢ ğŸ›ï¸ 1.000+ nÄƒm lá»‹ch sá»­
         </div>
        </div>
       </div><!-- World Heritage Sites -->
       <div class="heritage-card bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-lg transition-shadow">
        <div class="h-32 bg-gradient-to-br from-yellow-400 to-orange-500 flex items-center justify-center">
         <div class="text-center">
          <div class="text-4xl mb-2">
           ğŸ—¼
          </div>
          <div class="text-white text-sm font-medium">
           Biá»ƒu tÆ°á»£ng
          </div>
         </div>
        </div>
        <div class="p-4">
         <h4 class="font-bold text-lg text-gray-900 mb-2">ThÃ¡p Eiffel</h4>
         <p class="text-sm text-gray-600 mb-2">ğŸ‡«ğŸ‡· PhÃ¡p â€¢ Biá»ƒu tÆ°á»£ng vÄƒn hÃ³a (1991)</p>
         <p class="text-sm text-gray-700 mb-3">ThÃ¡p sáº¯t cao 330m, biá»ƒu tÆ°á»£ng cá»§a Paris vÃ  kiá»‡t tÃ¡c kiáº¿n trÃºc tháº¿ ká»· 19, thu hÃºt 7 triá»‡u du khÃ¡ch/nÄƒm.</p>
         <div class="text-xs text-yellow-600 font-medium">
          ğŸ“ Paris â€¢ ğŸ—¼ 324m cao
         </div>
        </div>
       </div>
       <div class="heritage-card bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-lg transition-shadow">
        <div class="h-32 bg-gradient-to-br from-red-400 to-orange-600 flex items-center justify-center">
         <div class="text-center">
          <div class="text-4xl mb-2">
           ğŸŸï¸
          </div>
          <div class="text-white text-sm font-medium">
           Äáº¥u trÆ°á»ng
          </div>
         </div>
        </div>
        <div class="p-4">
         <h4 class="font-bold text-lg text-gray-900 mb-2">Äáº¥u trÆ°á»ng Colosseum</h4>
         <p class="text-sm text-gray-600 mb-2">ğŸ‡®ğŸ‡¹ Ã â€¢ Di sáº£n vÄƒn hÃ³a (1980)</p>
         <p class="text-sm text-gray-700 mb-3">Äáº¥u trÆ°á»ng La MÃ£ cá»• Ä‘áº¡i lá»›n nháº¥t, chá»©a 50.000 khÃ¡n giáº£, biá»ƒu tÆ°á»£ng cá»§a Ä‘áº¿ cháº¿ La MÃ£ hÃ¹ng máº¡nh.</p>
         <div class="text-xs text-red-600 font-medium">
          ğŸ“ Roma â€¢ ğŸ›ï¸ 72-80 AD
         </div>
        </div>
       </div>
       <div class="heritage-card bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-lg transition-shadow">
        <div class="h-32 bg-gradient-to-br from-indigo-400 to-blue-600 flex items-center justify-center">
         <div class="text-center">
          <div class="text-4xl mb-2">
           ğŸ¯
          </div>
          <div class="text-white text-sm font-medium">
           TrÆ°á»ng thÃ nh
          </div>
         </div>
        </div>
        <div class="p-4">
         <h4 class="font-bold text-lg text-gray-900 mb-2">Váº¡n LÃ½ TrÆ°á»ng ThÃ nh</h4>
         <p class="text-sm text-gray-600 mb-2">ğŸ‡¨ğŸ‡³ Trung Quá»‘c â€¢ Di sáº£n vÄƒn hÃ³a (1987)</p>
         <p class="text-sm text-gray-700 mb-3">CÃ´ng trÃ¬nh phÃ²ng thá»§ dÃ i 21.196km, xÃ¢y dá»±ng tá»« tháº¿ ká»· 7 TCN, ká»³ quan kiáº¿n trÃºc vÄ© Ä‘áº¡i nháº¥t tháº¿ giá»›i.</p>
         <div class="text-xs text-indigo-600 font-medium">
          ğŸ“ Trung Quá»‘c â€¢ ğŸ¯ 2.000+ nÄƒm
         </div>
        </div>
       </div>
       <div class="heritage-card bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-lg transition-shadow">
        <div class="h-32 bg-gradient-to-br from-pink-400 to-rose-600 flex items-center justify-center">
         <div class="text-center">
          <div class="text-4xl mb-2">
           ğŸ•Œ
          </div>
          <div class="text-white text-sm font-medium">
           LÄƒng má»™
          </div>
         </div>
        </div>
        <div class="p-4">
         <h4 class="font-bold text-lg text-gray-900 mb-2">Taj Mahal</h4>
         <p class="text-sm text-gray-600 mb-2">ğŸ‡®ğŸ‡³ áº¤n Äá»™ â€¢ Di sáº£n vÄƒn hÃ³a (1983)</p>
         <p class="text-sm text-gray-700 mb-3">LÄƒng má»™ báº±ng Ä‘Ã¡ cáº©m tháº¡ch tráº¯ng, biá»ƒu tÆ°á»£ng tÃ¬nh yÃªu báº¥t diá»‡t vÃ  kiá»‡t tÃ¡c kiáº¿n trÃºc Mughal tháº¿ ká»· 17.</p>
         <div class="text-xs text-pink-600 font-medium">
          ğŸ“ Agra â€¢ ğŸ’ 1632-1653
         </div>
        </div>
       </div>
       <div class="heritage-card bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-lg transition-shadow">
        <div class="h-32 bg-gradient-to-br from-green-400 to-emerald-600 flex items-center justify-center">
         <div class="text-center">
          <div class="text-4xl mb-2">
           â›°ï¸
          </div>
          <div class="text-white text-sm font-medium">
           ThÃ nh phá»‘ cá»•
          </div>
         </div>
        </div>
        <div class="p-4">
         <h4 class="font-bold text-lg text-gray-900 mb-2">Machu Picchu</h4>
         <p class="text-sm text-gray-600 mb-2">ğŸ‡µğŸ‡ª Peru â€¢ Di sáº£n vÄƒn hÃ³a (1983)</p>
         <p class="text-sm text-gray-700 mb-3">ThÃ nh phá»‘ cá»• cá»§a ngÆ°á»i Inca trÃªn Ä‘á»‰nh nÃºi cao 2.430m, "thÃ nh phá»‘ bá»‹ máº¥t" Ä‘Æ°á»£c tÃ¬m tháº¥y nÄƒm 1911.</p>
         <div class="text-xs text-green-600 font-medium">
          ğŸ“ Cusco â€¢ â›°ï¸ 2.430m
         </div>
        </div>
       </div>
       <div class="heritage-card bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-lg transition-shadow">
        <div class="h-32 bg-gradient-to-br from-purple-400 to-indigo-600 flex items-center justify-center">
         <div class="text-center">
          <div class="text-4xl mb-2">
           ğŸ›•
          </div>
          <div class="text-white text-sm font-medium">
           Äá»n Hindu
          </div>
         </div>
        </div>
        <div class="p-4">
         <h4 class="font-bold text-lg text-gray-900 mb-2">Angkor Wat</h4>
         <p class="text-sm text-gray-600 mb-2">ğŸ‡°ğŸ‡­ Campuchia â€¢ Di sáº£n vÄƒn hÃ³a (1992)</p>
         <p class="text-sm text-gray-700 mb-3">Quáº§n thá»ƒ Ä‘á»n Hindu lá»›n nháº¥t tháº¿ giá»›i, xÃ¢y dá»±ng tháº¿ ká»· 12, kiá»‡t tÃ¡c kiáº¿n trÃºc Khmer cá»• Ä‘áº¡i.</p>
         <div class="text-xs text-purple-600 font-medium">
          ğŸ“ Siem Reap â€¢ ğŸ•‰ï¸ 162.6 ha
         </div>
        </div>
       </div>
       <div class="heritage-card bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-lg transition-shadow">
        <div class="h-32 bg-gradient-to-br from-cyan-400 to-blue-600 flex items-center justify-center">
         <div class="text-center">
          <div class="text-4xl mb-2">
           ğŸ—½
          </div>
          <div class="text-white text-sm font-medium">
           Tá»± do
          </div>
         </div>
        </div>
        <div class="p-4">
         <h4 class="font-bold text-lg text-gray-900 mb-2">TÆ°á»£ng Ná»¯ tháº§n Tá»± do</h4>
         <p class="text-sm text-gray-600 mb-2">ğŸ‡ºğŸ‡¸ Má»¹ â€¢ Di sáº£n vÄƒn hÃ³a (1984)</p>
         <p class="text-sm text-gray-700 mb-3">Biá»ƒu tÆ°á»£ng tá»± do vÃ  dÃ¢n chá»§ cao 93m, quÃ  táº·ng tá»« PhÃ¡p nÄƒm 1886, chÃ o Ä‘Ã³n hÃ ng triá»‡u di dÃ¢n.</p>
         <div class="text-xs text-cyan-600 font-medium">
          ğŸ“ New York â€¢ ğŸ—½ 1886
         </div>
        </div>
       </div>
       <div class="heritage-card bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-lg transition-shadow">
        <div class="h-32 bg-gradient-to-br from-orange-400 to-red-500 flex items-center justify-center">
         <div class="text-center">
          <div class="text-4xl mb-2">
           ğŸ”º
          </div>
          <div class="text-white text-sm font-medium">
           Kim tá»± thÃ¡p
          </div>
         </div>
        </div>
        <div class="p-4">
         <h4 class="font-bold text-lg text-gray-900 mb-2">Kim tá»± thÃ¡p Giza</h4>
         <p class="text-sm text-gray-600 mb-2">ğŸ‡ªğŸ‡¬ Ai Cáº­p â€¢ Di sáº£n vÄƒn hÃ³a (1979)</p>
         <p class="text-sm text-gray-700 mb-3">Ká»³ quan duy nháº¥t cÃ²n tá»“n táº¡i trong 7 ká»³ quan tháº¿ giá»›i cá»• Ä‘áº¡i, xÃ¢y dá»±ng cÃ¡ch Ä‘Ã¢y 4.500 nÄƒm.</p>
         <div class="text-xs text-orange-600 font-medium">
          ğŸ“ Cairo â€¢ ğŸ”º 146.5m
         </div>
        </div>
       </div>
      </div>
     </div>
    </div>
   </main>
  </div>
  <script>
        // Configuration
        const defaultConfig = {
            unit_title: "Unit 4: Preserving World Heritage",
            home_url: "https://nckhthptnk.github.io/tienganh11/"
        };

        // Vocabulary data
        const vocabularyData = [
            { word: "ancient site", type: "noun phrase", ipa: "/ËˆeÉªnÊƒÉ™nt saÉªt/", meaning: "di tÃ­ch cá»•", example: "The ancient site contains artifacts from 2000 years ago." },
            { word: "archaeology", type: "noun", ipa: "/ËŒÉ‘ËkiËˆÉ’lÉ™dÊ’i/", meaning: "kháº£o cá»• há»c", example: "She studied archaeology at university." },
            { word: "archaeologist", type: "noun", ipa: "/ËŒÉ‘ËkiËˆÉ’lÉ™dÊ’Éªst/", meaning: "nhÃ  kháº£o cá»• há»c", example: "The archaeologist discovered ancient pottery." },
            { word: "architecture", type: "noun", ipa: "/ËˆÉ‘ËkÉªtektÊƒÉ™/", meaning: "kiáº¿n trÃºc", example: "The temple's architecture is magnificent." },
            { word: "architectural", type: "adjective", ipa: "/ËŒÉ‘ËkÉªËˆtektÊƒÉ™rÉ™l/", meaning: "thuá»™c vá» kiáº¿n trÃºc", example: "The building has unique architectural features." },
            { word: "baptize", type: "verb", ipa: "/bÃ¦pËˆtaÉªz/", meaning: "rá»­a tá»™i", example: "The priest will baptize the baby next Sunday." },
            { word: "be located", type: "verb phrase", ipa: "/bi lÉ™ÊŠËˆkeÉªtÉªd/", meaning: "Ä‘Æ°á»£c Ä‘áº·t táº¡i", example: "The museum is located in the city center." },
            { word: "be made of", type: "verb phrase", ipa: "/bi meÉªd ÊŒv/", meaning: "Ä‘Æ°á»£c lÃ m báº±ng", example: "The statue is made of bronze." },
            { word: "be recognized as", type: "verb phrase", ipa: "/bi ËˆrekÉ™É¡naÉªzd Ã¦z/", meaning: "Ä‘Æ°á»£c cÃ´ng nháº­n lÃ ", example: "It is recognized as a World Heritage Site." },
            { word: "be surrounded by", type: "verb phrase", ipa: "/bi sÉ™ËˆraÊŠndÉªd baÉª/", meaning: "Ä‘Æ°á»£c bao quanh bá»Ÿi", example: "The castle is surrounded by a moat." },
            { word: "belonging to", type: "verb phrase", ipa: "/bÉªËˆlÉ’Å‹ÉªÅ‹ tuË/", meaning: "thuá»™c vá»", example: "The artifacts belonging to the ancient civilization." },
            { word: "bronze", type: "noun", ipa: "/brÉ’nz/", meaning: "Ä‘á»“ng thau", example: "The sculpture is made of bronze." },
            { word: "chamber", type: "noun", ipa: "/ËˆtÊƒeÉªmbÉ™/", meaning: "buá»“ng, phÃ²ng", example: "The burial chamber contained many treasures." },
            { word: "civilization", type: "noun", ipa: "/ËŒsÉªvÉ™laÉªËˆzeÉªÊƒÉ™n/", meaning: "ná»n vÄƒn minh", example: "The ancient civilization left many monuments." },
            { word: "civilized", type: "adjective", ipa: "/ËˆsÉªvÉ™laÉªzd/", meaning: "vÄƒn minh", example: "They were a highly civilized society." },
            { word: "date back (to)", type: "phrasal verb", ipa: "/deÉªt bÃ¦k tuË/", meaning: "cÃ³ niÃªn Ä‘áº¡i tá»«", example: "This temple dates back to the 12th century." },
            { word: "emperor", type: "noun", ipa: "/ËˆempÉ™rÉ™/", meaning: "hoÃ ng Ä‘áº¿", example: "The emperor built many palaces." },
            { word: "fame", type: "noun", ipa: "/feÉªm/", meaning: "danh tiáº¿ng", example: "The artist achieved international fame." },
            { word: "famous", type: "adjective", ipa: "/ËˆfeÉªmÉ™s/", meaning: "ná»•i tiáº¿ng", example: "This is a famous historical site." },
            { word: "generation", type: "noun", ipa: "/ËŒdÊ’enÉ™ËˆreÉªÊƒÉ™n/", meaning: "tháº¿ há»‡", example: "This tradition passes from generation to generation." },
            { word: "heritage", type: "noun", ipa: "/ËˆherÉªtÉªdÊ’/", meaning: "di sáº£n", example: "We must protect our cultural heritage." },
            { word: "historic", type: "adjective", ipa: "/hÉªËˆstÉ’rÉªk/", meaning: "cÃ³ Ã½ nghÄ©a lá»‹ch sá»­", example: "This is a historic moment." },
            { word: "historical", type: "adjective", ipa: "/hÉªËˆstÉ’rÉªkÉ™l/", meaning: "thuá»™c vá» lá»‹ch sá»­", example: "The museum displays historical artifacts." },
            { word: "history", type: "noun", ipa: "/ËˆhÉªstÉ™ri/", meaning: "lá»‹ch sá»­", example: "She loves studying ancient history." },
            { word: "hundred", type: "number", ipa: "/ËˆhÊŒndrÉ™d/", meaning: "má»™t trÄƒm", example: "The temple is hundreds of years old." },
            { word: "introduce", type: "verb", ipa: "/ËŒÉªntrÉ™ËˆdjuËs/", meaning: "giá»›i thiá»‡u", example: "Let me introduce you to our guide." },
            { word: "mausoleum", type: "noun", ipa: "/ËŒmÉ”ËsÉ™ËˆliËÉ™m/", meaning: "lÄƒng má»™", example: "The emperor's mausoleum is magnificent." },
            { word: "monument", type: "noun", ipa: "/ËˆmÉ’njÊŠmÉ™nt/", meaning: "tÆ°á»£ng Ä‘Ã i", example: "The monument honors fallen soldiers." },
            { word: "opera house", type: "noun phrase", ipa: "/ËˆÉ’pÉ™rÉ™ haÊŠs/", meaning: "nhÃ  hÃ¡t opera", example: "The opera house is a beautiful building." },
            { word: "pagoda", type: "noun", ipa: "/pÉ™ËˆÉ¡É™ÊŠdÉ™/", meaning: "chÃ¹a thÃ¡p", example: "The ancient pagoda has seven floors." },
            { word: "railway bridge", type: "noun phrase", ipa: "/ËˆreÉªlweÉª brÉªdÊ’/", meaning: "cáº§u Ä‘Æ°á»ng sáº¯t", example: "The railway bridge crosses the river." },
            { word: "ruin", type: "noun", ipa: "/ËˆruËÉªn/", meaning: "tÃ n tÃ­ch", example: "The ancient ruins attract many tourists." },
            { word: "sanctuary", type: "noun", ipa: "/ËˆsÃ¦Å‹ktÊƒuÉ™ri/", meaning: "thÃ¡nh Ä‘á»‹a", example: "The temple is a sacred sanctuary." },
            { word: "sculpture", type: "noun", ipa: "/ËˆskÊŒlptÊƒÉ™/", meaning: "tÃ¡c pháº©m Ä‘iÃªu kháº¯c", example: "The sculpture is made of marble." },
            { word: "symbolic", type: "adjective", ipa: "/sÉªmËˆbÉ’lÉªk/", meaning: "mang tÃ­nh biá»ƒu tÆ°á»£ng", example: "The tower has symbolic meaning." },
            { word: "symbolize", type: "verb", ipa: "/ËˆsÉªmbÉ™laÉªz/", meaning: "tÆ°á»£ng trÆ°ng cho", example: "The dove symbolizes peace." },
            { word: "represent", type: "verb", ipa: "/ËŒreprÉªËˆzent/", meaning: "Ä‘áº¡i diá»‡n cho", example: "This statue represents freedom." },
            { word: "temple", type: "noun", ipa: "/ËˆtempÉ™l/", meaning: "Ä‘á»n, chÃ¹a", example: "The ancient temple is still in use." },
            { word: "tower", type: "noun", ipa: "/ËˆtaÊŠÉ™/", meaning: "thÃ¡p", example: "The bell tower is 50 meters high." },
            { word: "unique", type: "adjective", ipa: "/juËËˆniËk/", meaning: "Ä‘á»™c Ä‘Ã¡o", example: "This architecture is unique in the world." },
            { word: "unusual", type: "adjective", ipa: "/ÊŒnËˆjuËÊ’uÉ™l/", meaning: "báº¥t thÆ°á»ng", example: "The building has an unusual design." },
            { word: "world heritage site", type: "noun phrase", ipa: "/wÉœËld ËˆherÉªtÉªdÊ’ saÉªt/", meaning: "di sáº£n tháº¿ giá»›i", example: "Ha Long Bay is a World Heritage Site." },
            { word: "preserve", type: "verb", ipa: "/prÉªËˆzÉœËv/", meaning: "báº£o tá»“n", example: "We must preserve these ancient buildings." },
            { word: "rank", type: "verb", ipa: "/rÃ¦Å‹k/", meaning: "xáº¿p háº¡ng", example: "This site ranks among the most important." },
            { word: "trade", type: "noun", ipa: "/treÉªd/", meaning: "thÆ°Æ¡ng máº¡i", example: "The ancient trade routes connected civilizations." },
            { word: "marble", type: "noun", ipa: "/ËˆmÉ‘ËbÉ™l/", meaning: "Ä‘Ã¡ cáº©m tháº¡ch", example: "The statue is carved from white marble." },
            { word: "somehow", type: "adverb", ipa: "/ËˆsÊŒmhaÊŠ/", meaning: "báº±ng cÃ¡ch nÃ o Ä‘Ã³", example: "Somehow, the building survived the earthquake." },
            { word: "overall", type: "adverb", ipa: "/ËŒÉ™ÊŠvÉ™rËˆÉ”Ël/", meaning: "nhÃ¬n chung", example: "Overall, the restoration was successful." },
            { word: "outstanding", type: "adjective", ipa: "/aÊŠtËˆstÃ¦ndÉªÅ‹/", meaning: "xuáº¥t sáº¯c", example: "The site has outstanding universal value." },
            { word: "threaten", type: "verb", ipa: "/ËˆÎ¸retÉ™n/", meaning: "Ä‘e dá»a", example: "Climate change threatens many heritage sites." },
            { word: "threat", type: "noun", ipa: "/Î¸ret/", meaning: "má»‘i Ä‘e dá»a", example: "Pollution is a major threat to monuments." },
            { word: "come along", type: "phrasal verb", ipa: "/kÊŒm É™ËˆlÉ’Å‹/", meaning: "Ä‘i cÃ¹ng", example: "Would you like to come along on the tour?" },
            { word: "terraced field", type: "noun phrase", ipa: "/ËˆterÉ™st fiËld/", meaning: "ruá»™ng báº­c thang", example: "The terraced fields are a beautiful sight." },
            { word: "legacy", type: "noun", ipa: "/ËˆleÉ¡É™si/", meaning: "di sáº£n, thá»«a káº¿", example: "The ancient buildings are a legacy from past civilizations." },
            { word: "conservation", type: "noun", ipa: "/ËŒkÉ’nsÉ™ËˆveÉªÊƒÉ™n/", meaning: "báº£o tá»“n", example: "The conservation of historical sites requires careful planning." }
        ];

        // Reading quiz questions
        const readingQuestions = [
            {
                question: "According to the passage, what does the Imperial City of Hue represent?",
                options: [
                    "Modern Vietnamese architecture",
                    "The architectural achievements of the Nguyen Dynasty",
                    "French colonial influence",
                    "Buddhist temple design"
                ],
                correct: 1
            },
            {
                question: "How were the limestone formations in Ha Long Bay created?",
                options: [
                    "By human construction",
                    "Through volcanic activity",
                    "Over millions of years naturally",
                    "By ancient civilizations"
                ],
                correct: 2
            },
            {
                question: "What materials were used to build the temples at My Son Sanctuary?",
                options: [
                    "Wood and bamboo",
                    "Red brick and sandstone",
                    "Marble and granite",
                    "Concrete and steel"
                ],
                correct: 1
            },
            {
                question: "When were the Cham temples at My Son built?",
                options: [
                    "1st to 3rd centuries",
                    "4th to 14th centuries",
                    "15th to 17th centuries",
                    "18th to 20th centuries"
                ],
                correct: 1
            },
            {
                question: "What do all three heritage sites mentioned in the passage demonstrate?",
                options: [
                    "Vietnam's modern development",
                    "Foreign cultural influences",
                    "Vietnam's diverse cultural legacy",
                    "Economic prosperity"
                ],
                correct: 2
            },
            {
                question: "Who works together to preserve the historical treasures mentioned?",
                options: [
                    "Tourists and guides",
                    "Government officials only",
                    "Archaeologists and conservation experts",
                    "Local communities alone"
                ],
                correct: 2
            }
        ];

        // Grammar content
        const grammarContent = {
            conjunctions: {
                title: "Pair of Conjunctions",
                content: `
                    <h4 class="text-lg font-bold mb-4">Cáº·p liÃªn tá»« (Pair of Conjunctions)</h4>
                    <div class="space-y-4">
                        <div class="bg-blue-50 p-4 rounded-lg">
                            <h5 class="font-semibold mb-2">1. Both...and (cáº£...vÃ )</h5>
                            <p class="text-sm text-gray-700 mb-2">DÃ¹ng Ä‘á»ƒ ná»‘i hai thÃ nh pháº§n cÃ³ tÃ­nh cháº¥t tÆ°Æ¡ng Ä‘Æ°Æ¡ng.</p>
                            <p class="text-sm"><strong>Example:</strong> Both the temple and the museum are heritage sites.</p>
                        </div>
                        <div class="bg-green-50 p-4 rounded-lg">
                            <h5 class="font-semibold mb-2">2. Either...or (hoáº·c...hoáº·c)</h5>
                            <p class="text-sm text-gray-700 mb-2">DÃ¹ng Ä‘á»ƒ chá»‰ sá»± lá»±a chá»n giá»¯a hai kháº£ nÄƒng.</p>
                            <p class="text-sm"><strong>Example:</strong> We can either preserve it or restore it completely.</p>
                        </div>
                        <div class="bg-yellow-50 p-4 rounded-lg">
                            <h5 class="font-semibold mb-2">3. Neither...nor (khÃ´ng...cÅ©ng khÃ´ng)</h5>
                            <p class="text-sm text-gray-700 mb-2">DÃ¹ng Ä‘á»ƒ phá»§ Ä‘á»‹nh cáº£ hai thÃ nh pháº§n.</p>
                            <p class="text-sm"><strong>Example:</strong> Neither time nor money can replace lost heritage.</p>
                        </div>
                    </div>
                `
            },
            comparative: {
                title: "Comparative (So sÃ¡nh hÆ¡n)",
                content: `
                    <h4 class="text-lg font-bold mb-4">So sÃ¡nh hÆ¡n (Comparative)</h4>
                    <div class="space-y-4">
                        <div class="bg-blue-50 p-4 rounded-lg">
                            <h5 class="font-semibold mb-2">TÃ­nh tá»« ngáº¯n + er + than</h5>
                            <p class="text-sm"><strong>Example:</strong> This temple is older than that one.</p>
                        </div>
                        <div class="bg-green-50 p-4 rounded-lg">
                            <h5 class="font-semibold mb-2">More + tÃ­nh tá»« dÃ i + than</h5>
                            <p class="text-sm"><strong>Example:</strong> This site is more significant than others.</p>
                        </div>
                        <div class="bg-yellow-50 p-4 rounded-lg">
                            <h5 class="font-semibold mb-2">TÃ­nh tá»« báº¥t quy táº¯c</h5>
                            <p class="text-sm">good â†’ better, bad â†’ worse, far â†’ farther/further</p>
                            <p class="text-sm"><strong>Example:</strong> The restoration is better than expected.</p>
                        </div>
                    </div>
                `
            },
            superlative: {
                title: "Superlative (So sÃ¡nh nháº¥t)",
                content: `
                    <h4 class="text-lg font-bold mb-4">So sÃ¡nh nháº¥t (Superlative)</h4>
                    <div class="space-y-4">
                        <div class="bg-blue-50 p-4 rounded-lg">
                            <h5 class="font-semibold mb-2">The + tÃ­nh tá»« ngáº¯n + est</h5>
                            <p class="text-sm"><strong>Example:</strong> This is the oldest temple in the region.</p>
                        </div>
                        <div class="bg-green-50 p-4 rounded-lg">
                            <h5 class="font-semibold mb-2">The most + tÃ­nh tá»« dÃ i</h5>
                            <p class="text-sm"><strong>Example:</strong> This is the most beautiful heritage site.</p>
                        </div>
                        <div class="bg-yellow-50 p-4 rounded-lg">
                            <h5 class="font-semibold mb-2">TÃ­nh tá»« báº¥t quy táº¯c</h5>
                            <p class="text-sm">good â†’ the best, bad â†’ the worst, far â†’ the farthest/furthest</p>
                            <p class="text-sm"><strong>Example:</strong> This is the best preserved monument.</p>
                        </div>
                    </div>
                `
            },
            compound: {
                title: "Compound Nouns (Danh tá»« ghÃ©p)",
                content: `
                    <h4 class="text-lg font-bold mb-4">Danh tá»« ghÃ©p (Compound Nouns)</h4>
                    <div class="space-y-4">
                        <div class="bg-blue-50 p-4 rounded-lg">
                            <h5 class="font-semibold mb-2">Noun + Noun</h5>
                            <p class="text-sm"><strong>Examples:</strong> heritage site, world heritage, cultural landscape</p>
                        </div>
                        <div class="bg-green-50 p-4 rounded-lg">
                            <h5 class="font-semibold mb-2">Adjective + Noun</h5>
                            <p class="text-sm"><strong>Examples:</strong> ancient monument, natural heritage, historical site</p>
                        </div>
                        <div class="bg-yellow-50 p-4 rounded-lg">
                            <h5 class="font-semibold mb-2">Gerund + Noun</h5>
                            <p class="text-sm"><strong>Examples:</strong> building materials, working conditions, living heritage</p>
                        </div>
                    </div>
                `
            }
        };

        // Vocabulary quiz questions (53 questions)
        const vocabularyQuestions = [
            {
                question: "What does 'heritage' mean?",
                options: ["di sáº£n", "kiáº¿n trÃºc", "lá»‹ch sá»­", "vÄƒn hÃ³a"],
                correct: 0,
                word: "heritage"
            },
            {
                question: "Choose the correct meaning of 'ancient site':",
                options: ["Ä‘á»‹a Ä‘iá»ƒm hiá»‡n Ä‘áº¡i", "di tÃ­ch cá»•", "khu vá»±c má»›i", "cÃ´ng trÃ¬nh xÃ¢y dá»±ng"],
                correct: 1,
                word: "ancient site"
            },
            {
                question: "'Archaeology' refers to:",
                options: ["Ä‘á»‹a lÃ½ há»c", "sinh há»c", "kháº£o cá»• há»c", "toÃ¡n há»c"],
                correct: 2,
                word: "archaeology"
            },
            {
                question: "An 'archaeologist' is someone who:",
                options: ["xÃ¢y dá»±ng nhÃ ", "nghiÃªn cá»©u kháº£o cá»•", "dáº¡y há»c", "váº½ tranh"],
                correct: 1,
                word: "archaeologist"
            },
            {
                question: "'Architecture' means:",
                options: ["Ã¢m nháº¡c", "kiáº¿n trÃºc", "há»™i há»a", "Ä‘iÃªu kháº¯c"],
                correct: 1,
                word: "architecture"
            },
            {
                question: "What does 'baptize' mean?",
                options: ["káº¿t hÃ´n", "rá»­a tá»™i", "cáº§u nguyá»‡n", "hÃ¡t thÃ¡nh ca"],
                correct: 1,
                word: "baptize"
            },
            {
                question: "'Be located' means:",
                options: ["Ä‘Æ°á»£c xÃ¢y dá»±ng", "Ä‘Æ°á»£c Ä‘áº·t táº¡i", "Ä‘Æ°á»£c phÃ¡ há»§y", "Ä‘Æ°á»£c sá»­a chá»¯a"],
                correct: 1,
                word: "be located"
            },
            {
                question: "'Be made of' indicates:",
                options: ["Ä‘Æ°á»£c lÃ m báº±ng", "Ä‘Æ°á»£c trang trÃ­", "Ä‘Æ°á»£c sÆ¡n", "Ä‘Æ°á»£c dá»n dáº¹p"],
                correct: 0,
                word: "be made of"
            },
            {
                question: "'Be recognized as' means:",
                options: ["Ä‘Æ°á»£c phÃª bÃ¬nh", "Ä‘Æ°á»£c cÃ´ng nháº­n lÃ ", "Ä‘Æ°á»£c bá» qua", "Ä‘Æ°á»£c che giáº¥u"],
                correct: 1,
                word: "be recognized as"
            },
            {
                question: "'Be surrounded by' means:",
                options: ["Ä‘Æ°á»£c xÃ¢y dá»±ng bá»Ÿi", "Ä‘Æ°á»£c bao quanh bá»Ÿi", "Ä‘Æ°á»£c phÃ¡ há»§y bá»Ÿi", "Ä‘Æ°á»£c trang trÃ­ bá»Ÿi"],
                correct: 1,
                word: "be surrounded by"
            },
            {
                question: "'Belonging to' indicates:",
                options: ["chá»‘ng láº¡i", "thuá»™c vá»", "tÃ¡ch khá»i", "xa lÃ¡nh"],
                correct: 1,
                word: "belonging to"
            },
            {
                question: "'Bronze' is a type of:",
                options: ["gá»—", "Ä‘Ã¡", "Ä‘á»“ng thau", "nhá»±a"],
                correct: 2,
                word: "bronze"
            },
            {
                question: "A 'chamber' is a:",
                options: ["cá»­a sá»•", "buá»“ng, phÃ²ng", "cáº§u thang", "mÃ¡i nhÃ "],
                correct: 1,
                word: "chamber"
            },
            {
                question: "'Civilization' refers to:",
                options: ["ná»n vÄƒn minh", "chiáº¿n tranh", "thiÃªn tai", "bá»‡nh táº­t"],
                correct: 0,
                word: "civilization"
            },
            {
                question: "'Civilized' means:",
                options: ["hoang dÃ£", "vÄƒn minh", "nguyÃªn thá»§y", "láº¡c háº­u"],
                correct: 1,
                word: "civilized"
            },
            {
                question: "'Date back to' means:",
                options: ["Ä‘Æ°á»£c xÃ¢y má»›i", "cÃ³ niÃªn Ä‘áº¡i tá»«", "sáº½ Ä‘Æ°á»£c xÃ¢y", "Ä‘ang xÃ¢y dá»±ng"],
                correct: 1,
                word: "date back (to)"
            },
            {
                question: "An 'emperor' is a:",
                options: ["nÃ´ng dÃ¢n", "thÆ°Æ¡ng gia", "hoÃ ng Ä‘áº¿", "há»c giáº£"],
                correct: 2,
                word: "emperor"
            },
            {
                question: "'Fame' means:",
                options: ["sá»± nghÃ¨o khÃ³", "danh tiáº¿ng", "sá»± áº©n dáº­t", "ná»—i buá»“n"],
                correct: 1,
                word: "fame"
            },
            {
                question: "'Famous' means:",
                options: ["vÃ´ danh", "ná»•i tiáº¿ng", "bÃ¬nh thÆ°á»ng", "kÃ­n Ä‘Ã¡o"],
                correct: 1,
                word: "famous"
            },
            {
                question: "A 'generation' refers to:",
                options: ["má»™t ngÃ y", "má»™t thÃ¡ng", "tháº¿ há»‡", "má»™t giá»"],
                correct: 2,
                word: "generation"
            },
            {
                question: "'Historic' means:",
                options: ["khÃ´ng quan trá»ng", "cÃ³ Ã½ nghÄ©a lá»‹ch sá»­", "hiá»‡n Ä‘áº¡i", "tÆ°Æ¡ng lai"],
                correct: 1,
                word: "historic"
            },
            {
                question: "'Historical' relates to:",
                options: ["khoa há»c", "thuá»™c vá» lá»‹ch sá»­", "toÃ¡n há»c", "thá»ƒ thao"],
                correct: 1,
                word: "historical"
            },
            {
                question: "'History' is the study of:",
                options: ["tÆ°Æ¡ng lai", "hiá»‡n táº¡i", "lá»‹ch sá»­", "khÃ´ng gian"],
                correct: 2,
                word: "history"
            },
            {
                question: "'Hundred' is the number:",
                options: ["10", "100", "1000", "10000"],
                correct: 1,
                word: "hundred"
            },
            {
                question: "'Introduce' means:",
                options: ["chia tay", "giá»›i thiá»‡u", "tá»« chá»‘i", "phÃª bÃ¬nh"],
                correct: 1,
                word: "introduce"
            },
            {
                question: "A 'mausoleum' is a:",
                options: ["trÆ°á»ng há»c", "bá»‡nh viá»‡n", "lÄƒng má»™", "chá»£"],
                correct: 2,
                word: "mausoleum"
            },
            {
                question: "A 'monument' is a:",
                options: ["tÆ°á»£ng Ä‘Ã i", "cá»­a hÃ ng", "nhÃ  á»Ÿ", "vÄƒn phÃ²ng"],
                correct: 0,
                word: "monument"
            },
            {
                question: "An 'opera house' is a place for:",
                options: ["mua sáº¯m", "biá»ƒu diá»…n opera", "náº¥u Äƒn", "ngá»§ nghá»‰"],
                correct: 1,
                word: "opera house"
            },
            {
                question: "A 'pagoda' is a type of:",
                options: ["xe cá»™", "chÃ¹a thÃ¡p", "thá»©c Äƒn", "quáº§n Ã¡o"],
                correct: 1,
                word: "pagoda"
            },
            {
                question: "A 'railway bridge' is a bridge for:",
                options: ["ngÆ°á»i Ä‘i bá»™", "Ä‘Æ°á»ng sáº¯t", "mÃ¡y bay", "thuyá»n"],
                correct: 1,
                word: "railway bridge"
            },
            {
                question: "'Ruin' refers to:",
                options: ["cÃ´ng trÃ¬nh má»›i", "tÃ n tÃ­ch", "káº¿ hoáº¡ch", "hy vá»ng"],
                correct: 1,
                word: "ruin"
            },
            {
                question: "A 'sanctuary' is a:",
                options: ["nhÃ  mÃ¡y", "thÃ¡nh Ä‘á»‹a", "trÆ°á»ng há»c", "bá»‡nh viá»‡n"],
                correct: 1,
                word: "sanctuary"
            },
            {
                question: "A 'sculpture' is a work of:",
                options: ["Ã¢m nháº¡c", "Ä‘iÃªu kháº¯c", "vÄƒn há»c", "khiÃªu vÅ©"],
                correct: 1,
                word: "sculpture"
            },
            {
                question: "'Symbolic' means:",
                options: ["thá»±c táº¿", "mang tÃ­nh biá»ƒu tÆ°á»£ng", "Ä‘Æ¡n giáº£n", "phá»©c táº¡p"],
                correct: 1,
                word: "symbolic"
            },
            {
                question: "'Symbolize' means:",
                options: ["phÃ¡ há»§y", "tÆ°á»£ng trÆ°ng cho", "che giáº¥u", "bá» qua"],
                correct: 1,
                word: "symbolize"
            },
            {
                question: "'Represent' means:",
                options: ["Ä‘áº¡i diá»‡n cho", "chá»‘ng láº¡i", "trÃ¡nh xa", "quÃªn Ä‘i"],
                correct: 0,
                word: "represent"
            },
            {
                question: "A 'temple' is a place of:",
                options: ["mua bÃ¡n", "thá» cÃºng", "há»c táº­p", "giáº£i trÃ­"],
                correct: 1,
                word: "temple"
            },
            {
                question: "A 'tower' is a:",
                options: ["thÃ¡p", "háº§m", "cáº§u", "Ä‘Æ°á»ng"],
                correct: 0,
                word: "tower"
            },
            {
                question: "'Unique' means:",
                options: ["bÃ¬nh thÆ°á»ng", "Ä‘á»™c Ä‘Ã¡o", "giá»‘ng nhau", "cÅ© ká»¹"],
                correct: 1,
                word: "unique"
            },
            {
                question: "'Unusual' means:",
                options: ["thÃ´ng thÆ°á»ng", "báº¥t thÆ°á»ng", "quen thuá»™c", "dá»… hiá»ƒu"],
                correct: 1,
                word: "unusual"
            },
            {
                question: "A 'world heritage site' is:",
                options: ["khu mua sáº¯m", "di sáº£n tháº¿ giá»›i", "trung tÃ¢m thá»ƒ thao", "báº¿n xe"],
                correct: 1,
                word: "world heritage site"
            },
            {
                question: "'Preserve' means:",
                options: ["phÃ¡ há»§y", "báº£o tá»“n", "bá» qua", "thay Ä‘á»•i"],
                correct: 1,
                word: "preserve"
            },
            {
                question: "'Rank' as a verb means:",
                options: ["xáº¿p háº¡ng", "mua bÃ¡n", "náº¥u Äƒn", "hÃ¡t ca"],
                correct: 0,
                word: "rank"
            },
            {
                question: "'Trade' refers to:",
                options: ["giÃ¡o dá»¥c", "thÆ°Æ¡ng máº¡i", "y táº¿", "giao thÃ´ng"],
                correct: 1,
                word: "trade"
            },
            {
                question: "'Marble' is a type of:",
                options: ["kim loáº¡i", "gá»—", "Ä‘Ã¡ cáº©m tháº¡ch", "nhá»±a"],
                correct: 2,
                word: "marble"
            },
            {
                question: "'Somehow' means:",
                options: ["khÃ´ng bao giá»", "báº±ng cÃ¡ch nÃ o Ä‘Ã³", "luÃ´n luÃ´n", "á»Ÿ Ä‘Ã¢u Ä‘Ã³"],
                correct: 1,
                word: "somehow"
            },
            {
                question: "'Overall' means:",
                options: ["chi tiáº¿t", "nhÃ¬n chung", "cá»¥ thá»ƒ", "riÃªng láº»"],
                correct: 1,
                word: "overall"
            },
            {
                question: "'Outstanding' means:",
                options: ["tá»‡ háº¡i", "xuáº¥t sáº¯c", "bÃ¬nh thÆ°á»ng", "kÃ©m cá»i"],
                correct: 1,
                word: "outstanding"
            },
            {
                question: "'Threaten' means:",
                options: ["báº£o vá»‡", "Ä‘e dá»a", "giÃºp Ä‘á»¡", "khuyáº¿n khÃ­ch"],
                correct: 1,
                word: "threaten"
            },
            {
                question: "A 'threat' is a:",
                options: ["mÃ³n quÃ ", "má»‘i Ä‘e dá»a", "cÆ¡ há»™i", "lá»i khen"],
                correct: 1,
                word: "threat"
            },
            {
                question: "'Come along' means:",
                options: ["á»Ÿ láº¡i", "Ä‘i cÃ¹ng", "trá»Ÿ vá»", "dá»«ng láº¡i"],
                correct: 1,
                word: "come along"
            },
            {
                question: "'Terraced field' refers to:",
                options: ["ruá»™ng báº­c thang", "cÃ¡nh Ä‘á»“ng pháº³ng", "khu rá»«ng", "ao há»“"],
                correct: 0,
                word: "terraced field"
            },
            {
                question: "'Legacy' means:",
                options: ["di sáº£n, thá»«a káº¿", "mÃ³n ná»£", "káº¿ hoáº¡ch", "Æ°á»›c mÆ¡"],
                correct: 0,
                word: "legacy"
            },
            {
                question: "'Conservation' refers to:",
                options: ["phÃ¡ há»§y", "báº£o tá»“n", "xÃ¢y dá»±ng", "di chuyá»ƒn"],
                correct: 1,
                word: "conservation"
            }
        ];

        // Grammar exercises
        const grammarExercises = [
            {
                question: "Choose the correct pair of conjunctions: ___ the temple ___ the museum are UNESCO World Heritage sites.",
                options: ["Both...and", "Either...or", "Neither...nor", "Not only...but also"],
                correct: 0
            },
            {
                question: "This ancient site is ___ than the modern building.",
                options: ["more old", "older", "oldest", "most old"],
                correct: 1
            },
            {
                question: "Mount Everest is ___ mountain in the world.",
                options: ["higher", "the higher", "highest", "the highest"],
                correct: 3
            },
            {
                question: "A ___ is a place where cultural artifacts are displayed.",
                options: ["heritage site", "world heritage", "cultural museum", "ancient monument"],
                correct: 2
            },
            {
                question: "___ the government ___ the people can preserve heritage alone.",
                options: ["Both...and", "Either...or", "Neither...nor", "Not only...but also"],
                correct: 2
            },
            {
                question: "This restoration project is ___ complex than we thought.",
                options: ["more", "most", "much", "many"],
                correct: 0
            },
            {
                question: "The Great Wall of China is one of ___ heritage sites.",
                options: ["famous", "more famous", "most famous", "the most famous"],
                correct: 3
            },
            {
                question: "The ___ contains many ancient artifacts.",
                options: ["culture center", "cultural center", "center culture", "center cultural"],
                correct: 1
            },
            {
                question: "We can ___ restore it completely ___ preserve it as it is.",
                options: ["both...and", "either...or", "neither...nor", "not only...but also"],
                correct: 1
            },
            {
                question: "This temple is ___ preserved building in the city.",
                options: ["good", "better", "best", "the best"],
                correct: 3
            },
            {
                question: "The ___ requires special expertise.",
                options: ["restore process", "restoration process", "process restore", "process restoration"],
                correct: 1
            },
            {
                question: "Ancient monuments are ___ valuable than modern buildings.",
                options: ["more", "most", "much", "many"],
                correct: 0
            },
            {
                question: "___ time ___ money can bring back destroyed heritage.",
                options: ["Both...and", "Either...or", "Neither...nor", "Not only...but also"],
                correct: 2
            },
            {
                question: "This is ___ archaeological discovery of the century.",
                options: ["important", "more important", "most important", "the most important"],
                correct: 3
            },
            {
                question: "The ___ attracts millions of visitors annually.",
                options: ["heritage tourism", "tourist heritage", "tourism heritage", "heritage tourist"],
                correct: 0
            },
            {
                question: "Conservation efforts are ___ successful now than before.",
                options: ["more", "most", "much", "many"],
                correct: 0
            },
            {
                question: "The ___ provides detailed information about the site.",
                options: ["guide book", "book guide", "guidance book", "book guidance"],
                correct: 0
            },
            {
                question: "___ the local community ___ international organizations support this project.",
                options: ["Both...and", "Either...or", "Neither...nor", "Not only...but also"],
                correct: 0
            },
            {
                question: "This site has ___ historical significance in the region.",
                options: ["great", "greater", "greatest", "the greatest"],
                correct: 3
            },
            {
                question: "The ___ helps protect the ancient structure.",
                options: ["conservation effort", "effort conservation", "conserve effort", "effort conserve"],
                correct: 0
            },
            {
                question: "Modern technology makes restoration ___ accurate than before.",
                options: ["more", "most", "much", "many"],
                correct: 0
            },
            {
                question: "We must choose: ___ preserve it ___ let it deteriorate.",
                options: ["both...and", "either...or", "neither...nor", "not only...but also"],
                correct: 1
            },
            {
                question: "This is ___ challenging restoration project ever undertaken.",
                options: ["more", "most", "the more", "the most"],
                correct: 3
            },
            {
                question: "The ___ documents the site's history.",
                options: ["research team", "team research", "researcher team", "team researcher"],
                correct: 0
            },
            {
                question: "Heritage sites are becoming ___ vulnerable to climate change.",
                options: ["more", "most", "much", "many"],
                correct: 0
            },
            {
                question: "___ pollution ___ tourism can damage heritage sites if not managed properly.",
                options: ["Both...and", "Either...or", "Neither...nor", "Not only...but also"],
                correct: 0
            },
            {
                question: "This temple is ___ well-preserved monument in the country.",
                options: ["better", "best", "the better", "the best"],
                correct: 3
            },
            {
                question: "The ___ requires international cooperation.",
                options: ["preservation effort", "effort preservation", "preserve effort", "effort preserve"],
                correct: 0
            },
            {
                question: "Digital technology makes documentation ___ precise than traditional methods.",
                options: ["more", "most", "much", "many"],
                correct: 0
            },
            {
                question: "The ___ provides funding for heritage conservation.",
                options: ["government program", "program government", "governmental program", "program governmental"],
                correct: 0
            }
        ];

        // Global variables
        let currentVocabularyIndex = 0;
        let isFlipped = false;
        let currentSection = 'vocabulary';
        let vocabularyMode = 'learn'; // 'learn' or 'test'
        let readingMode = 'heritage'; // 'heritage' or 'reading'
        let currentQuestionIndex = 0;
        let vocabularyTestAnswers = [];
        let vocabularyTestMistakes = [];
        let progressData = {
            progress_vocabulary: 0,
            progress_reading: 0,
            progress_grammar: 0,
            current_vocabulary_index: 0,
            completed_reading_quiz: false,
            completed_grammar_exercises: false,
            completed_vocabulary_test: false
        };

        // Audio context for sound effects
        let audioContext;
        let correctSound, incorrectSound;

        // Data handler
        const dataHandler = {
            onDataChanged(data) {
                if (data.length > 0) {
                    const savedData = data[0];
                    // Only update progress data, don't change current index during navigation
                    progressData.progress_vocabulary = savedData.progress_vocabulary || 0;
                    progressData.progress_reading = savedData.progress_reading || 0;
                    progressData.progress_grammar = savedData.progress_grammar || 0;
                    progressData.completed_reading_quiz = savedData.completed_reading_quiz || false;
                    progressData.completed_grammar_exercises = savedData.completed_grammar_exercises || false;
                    progressData.completed_vocabulary_test = savedData.completed_vocabulary_test || false;
                    
                    // Only set vocabulary index on initial load, not during navigation
                    if (currentVocabularyIndex === 0 && savedData.current_vocabulary_index) {
                        currentVocabularyIndex = savedData.current_vocabulary_index;
                        updateVocabularyDisplay();
                    }
                    updateProgressDisplay();
                }
            }
        };

        // Initialize audio
        function initAudio() {
            try {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
                
                // Create correct sound (higher pitch)
                correctSound = createBeep(800, 0.3, 'sine');
                
                // Create incorrect sound (lower pitch)
                incorrectSound = createBeep(300, 0.5, 'sawtooth');
            } catch (e) {
                console.log('Audio not supported');
            }
        }

        function createBeep(frequency, duration, type = 'sine') {
            return () => {
                if (!audioContext) return;
                
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.value = frequency;
                oscillator.type = type;
                
                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + duration);
            };
        }

        function playCorrectSound() {
            if (correctSound) correctSound();
        }

        function playIncorrectSound() {
            if (incorrectSound) incorrectSound();
        }

        // Text-to-speech function
        function speakWord(word) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(word);
                utterance.lang = 'en-US';
                utterance.rate = 0.8;
                speechSynthesis.speak(utterance);
            }
        }

        // Update progress display
        function updateProgressDisplay() {
            const total = Math.round((progressData.progress_vocabulary + progressData.progress_reading + progressData.progress_grammar) / 3);
            document.getElementById('totalProgress').textContent = `${total}%`;
            document.getElementById('vocabularyProgress').textContent = `${progressData.progress_vocabulary}%`;
            document.getElementById('readingProgress').textContent = `${progressData.progress_reading}%`;
            document.getElementById('grammarProgress').textContent = `${progressData.progress_grammar}%`;
        }

        // Save progress
        async function saveProgress() {
            if (window.dataSdk) {
                const result = await window.dataSdk.create(progressData);
                if (!result.isOk) {
                    console.error('Failed to save progress');
                }
            }
        }

        // Update vocabulary progress
        function updateVocabularyProgress() {
            const progress = Math.round(((currentVocabularyIndex + 1) / vocabularyData.length) * 100);
            progressData.progress_vocabulary = progress;
            progressData.current_vocabulary_index = currentVocabularyIndex;
            updateProgressDisplay();
            // Only save progress, don't reload from server
        }

        // Switch vocabulary mode
        function switchVocabularyMode(mode) {
            vocabularyMode = mode;
            
            // Update button styles
            const learnBtn = document.getElementById('learnModeBtn');
            const testBtn = document.getElementById('testModeBtn');
            
            if (mode === 'learn') {
                learnBtn.classList.add('bg-indigo-600', 'text-white');
                learnBtn.classList.remove('text-gray-600');
                testBtn.classList.remove('bg-indigo-600', 'text-white');
                testBtn.classList.add('text-gray-600');
                
                document.getElementById('learnMode').classList.remove('hidden');
                document.getElementById('testMode').classList.add('hidden');
            } else {
                testBtn.classList.add('bg-indigo-600', 'text-white');
                testBtn.classList.remove('text-gray-600');
                learnBtn.classList.remove('bg-indigo-600', 'text-white');
                learnBtn.classList.add('text-gray-600');
                
                document.getElementById('learnMode').classList.add('hidden');
                document.getElementById('testMode').classList.remove('hidden');
                
                generateVocabularyTest();
            }
        }



        // Generate vocabulary test
        function generateVocabularyTest() {
            // Reset test state
            currentQuestionIndex = 0;
            vocabularyTestAnswers = new Array(vocabularyQuestions.length).fill(null);
            vocabularyTestMistakes = [];
            document.getElementById('vocabularyTestResult').classList.add('hidden');
            
            // Show first question
            displayCurrentQuestion();
            updateQuestionNavigation();
        }
        
        // Display current question
        function displayCurrentQuestion() {
            const quizContainer = document.getElementById('vocabularyQuiz');
            const q = vocabularyQuestions[currentQuestionIndex];
            const isAnswered = vocabularyTestAnswers[currentQuestionIndex] !== null;
            
            quizContainer.innerHTML = `
                <div class="mb-6">
                    <div class="font-medium text-gray-900 mb-4 text-lg">${currentQuestionIndex + 1}. ${q.question}</div>
                    <div class="space-y-3">
                        ${q.options.map((option, optionIndex) => `
                            <div class="quiz-option border border-gray-200 rounded-lg p-4 hover:border-indigo-300 transition-colors cursor-pointer ${isAnswered ? 'pointer-events-none' : ''}" 
                                 data-option="${optionIndex}">
                                <label class="flex items-center cursor-pointer w-full">
                                    <input type="radio" name="currentQuestion" value="${optionIndex}" class="mr-3" 
                                           ${vocabularyTestAnswers[currentQuestionIndex] === optionIndex ? 'checked' : ''}
                                           ${isAnswered ? 'disabled' : ''}>
                                    <span class="text-base">${option}</span>
                                </label>
                            </div>
                        `).join('')}
                    </div>
                    ${isAnswered ? `
                        <div class="mt-4 p-4 rounded-lg ${vocabularyTestAnswers[currentQuestionIndex] === q.correct ? 'bg-green-100 border border-green-300' : 'bg-red-100 border border-red-300'}">
                            <div class="flex items-center mb-2">
                                <span class="text-2xl mr-2">${vocabularyTestAnswers[currentQuestionIndex] === q.correct ? 'âœ…' : 'âŒ'}</span>
                                <span class="font-semibold ${vocabularyTestAnswers[currentQuestionIndex] === q.correct ? 'text-green-800' : 'text-red-800'}">
                                    ${vocabularyTestAnswers[currentQuestionIndex] === q.correct ? 'ChÃ­nh xÃ¡c!' : 'Sai rá»“i!'}
                                </span>
                            </div>
                            ${vocabularyTestAnswers[currentQuestionIndex] !== q.correct ? `
                                <div class="text-sm text-red-700 mb-1"><strong>ÄÃ¡p Ã¡n Ä‘Ãºng:</strong> ${q.options[q.correct]}</div>
                                <div class="text-sm text-red-600"><strong>Báº¡n chá»n:</strong> ${q.options[vocabularyTestAnswers[currentQuestionIndex]]}</div>
                            ` : ''}
                            <div class="text-sm text-gray-600 mt-2"><strong>Tá»«:</strong> ${q.word}</div>
                        </div>
                    ` : ''}
                </div>
            `;
            
            // Update question counter
            document.getElementById('currentQuestionIndex').textContent = currentQuestionIndex + 1;
            document.getElementById('totalQuestions').textContent = vocabularyQuestions.length;
            
            // Add event listeners for options (only if not answered)
            if (!isAnswered) {
                document.querySelectorAll('.quiz-option').forEach(option => {
                    option.addEventListener('click', () => {
                        const optionIndex = parseInt(option.dataset.option);
                        vocabularyTestAnswers[currentQuestionIndex] = optionIndex;
                        
                        // Check answer immediately
                        checkCurrentAnswer(optionIndex, q.correct);
                        
                        // Redisplay question with result
                        setTimeout(() => {
                            displayCurrentQuestion();
                        }, 100);
                    });
                });
            } else {
                // Show the result styling for answered question
                const userAnswer = vocabularyTestAnswers[currentQuestionIndex];
                const correctAnswer = q.correct;
                
                document.querySelectorAll('.quiz-option').forEach((option, index) => {
                    if (index === userAnswer) {
                        if (userAnswer === correctAnswer) {
                            option.classList.add('correct');
                        } else {
                            option.classList.add('incorrect');
                        }
                    }
                    if (index === correctAnswer && userAnswer !== correctAnswer) {
                        option.classList.add('correct');
                    }
                });
            }
        }
        
        // Check current answer immediately
        function checkCurrentAnswer(selectedOption, correctOption) {
            if (selectedOption === correctOption) {
                playCorrectSound();
            } else {
                playIncorrectSound();
            }
        }
        
        // Update question navigation buttons
        function updateQuestionNavigation() {
            const prevBtn = document.getElementById('prevQuestion');
            const nextBtn = document.getElementById('nextQuestion');
            
            prevBtn.disabled = currentQuestionIndex === 0;
            nextBtn.disabled = currentQuestionIndex === vocabularyQuestions.length - 1;
            
            if (prevBtn.disabled) {
                prevBtn.classList.add('opacity-50', 'cursor-not-allowed');
            } else {
                prevBtn.classList.remove('opacity-50', 'cursor-not-allowed');
            }
            
            if (nextBtn.disabled) {
                nextBtn.classList.add('opacity-50', 'cursor-not-allowed');
            } else {
                nextBtn.classList.remove('opacity-50', 'cursor-not-allowed');
            }
        }
        
        // Navigate to previous question
        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                displayCurrentQuestion();
                updateQuestionNavigation();
            }
        }
        
        // Navigate to next question
        function nextQuestion() {
            if (currentQuestionIndex < vocabularyQuestions.length - 1) {
                currentQuestionIndex++;
                displayCurrentQuestion();
                updateQuestionNavigation();
            }
        }

        // Check vocabulary test
        function checkVocabularyTest() {
            let correct = 0;
            const total = vocabularyQuestions.length;
            vocabularyTestMistakes = [];
            
            vocabularyQuestions.forEach((q, index) => {
                const userAnswer = vocabularyTestAnswers[index];
                
                if (userAnswer !== null) {
                    if (userAnswer === q.correct) {
                        correct++;
                    } else {
                        vocabularyTestMistakes.push({
                            questionIndex: index,
                            question: q.question,
                            word: q.word,
                            correctAnswer: q.options[q.correct],
                            userAnswer: q.options[userAnswer]
                        });
                    }
                } else {
                    // No answer selected
                    vocabularyTestMistakes.push({
                        questionIndex: index,
                        question: q.question,
                        word: q.word,
                        correctAnswer: q.options[q.correct],
                        userAnswer: "KhÃ´ng tráº£ lá»i"
                    });
                }
            });
            
            // Update progress
            const percentage = Math.round((correct / total) * 100);
            progressData.completed_vocabulary_test = true;
            updateProgressDisplay();
            saveProgress();
            
            // Show result
            document.getElementById('vocabularyTestScore').textContent = `${correct}/${total} (${percentage}%)`;
            document.getElementById('vocabularyTestResult').classList.remove('hidden');
            
            // Hide navigation buttons and show result
            document.getElementById('prevQuestion').style.display = 'none';
            document.getElementById('nextQuestion').style.display = 'none';
            document.getElementById('submitVocabularyTest').style.display = 'none';
            
            // Show detailed results
            showDetailedResults();
        }
        
        // Show detailed results
        function showDetailedResults() {
            const quizContainer = document.getElementById('vocabularyQuiz');
            const correct = vocabularyQuestions.length - vocabularyTestMistakes.length;
            const total = vocabularyQuestions.length;
            
            let resultHtml = `
                <div class="text-center mb-8">
                    <div class="text-3xl font-bold ${correct >= total * 0.8 ? 'text-green-600' : correct >= total * 0.6 ? 'text-yellow-600' : 'text-red-600'} mb-2">
                        ${correct}/${total} (${Math.round((correct/total)*100)}%)
                    </div>
                    <div class="text-lg text-gray-600">
                        ${correct >= total * 0.8 ? 'ğŸ‰ Xuáº¥t sáº¯c!' : correct >= total * 0.6 ? 'ğŸ‘ KhÃ¡ tá»‘t!' : 'ğŸ’ª Cáº§n cá»‘ gáº¯ng thÃªm!'}
                    </div>
                </div>
            `;
            
            if (vocabularyTestMistakes.length > 0) {
                resultHtml += `
                    <div class="mb-6">
                        <h4 class="text-lg font-bold text-red-800 mb-4">CÃ¡c cÃ¢u sai (${vocabularyTestMistakes.length} cÃ¢u):</h4>
                        <div class="space-y-4 max-h-96 overflow-y-auto">
                            ${vocabularyTestMistakes.map((mistake, index) => `
                                <div class="bg-red-50 border border-red-200 rounded-lg p-4">
                                    <div class="font-medium text-red-800 mb-2">CÃ¢u ${mistake.questionIndex + 1}: ${mistake.question}</div>
                                    <div class="text-sm text-red-700 mb-1"><strong>Tá»«:</strong> ${mistake.word}</div>
                                    <div class="text-sm text-green-700 mb-1"><strong>ÄÃ¡p Ã¡n Ä‘Ãºng:</strong> ${mistake.correctAnswer}</div>
                                    <div class="text-sm text-red-700"><strong>Báº¡n chá»n:</strong> ${mistake.userAnswer}</div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            } else {
                resultHtml += `
                    <div class="text-center py-8">
                        <div class="text-6xl mb-4">ğŸ†</div>
                        <div class="text-xl font-bold text-green-600">HoÃ n háº£o! Báº¡n Ä‘Ã£ lÃ m Ä‘Ãºng táº¥t cáº£!</div>
                    </div>
                `;
            }
            
            quizContainer.innerHTML = resultHtml;
        }

        // Show vocabulary mistakes
        function showVocabularyMistakes() {
            if (vocabularyTestMistakes.length === 0) {
                alert('ChÃºc má»«ng! Báº¡n Ä‘Ã£ lÃ m Ä‘Ãºng táº¥t cáº£ cÃ¡c cÃ¢u!');
                return;
            }
            
            const mistakesHtml = vocabularyTestMistakes.map((mistake, index) => `
                <div class="bg-red-50 border border-red-200 rounded-lg p-4 mb-4">
                    <div class="font-medium text-red-800 mb-2">${index + 1}. ${mistake.question}</div>
                    <div class="text-sm text-red-700 mb-1"><strong>Tá»«:</strong> ${mistake.word}</div>
                    <div class="text-sm text-red-700 mb-1"><strong>ÄÃ¡p Ã¡n Ä‘Ãºng:</strong> ${mistake.correctAnswer}</div>
                    <div class="text-sm text-red-700"><strong>Báº¡n chá»n:</strong> ${mistake.userAnswer}</div>
                </div>
            `).join('');
            
            const quizContainer = document.getElementById('vocabularyQuiz');
            quizContainer.innerHTML = `
                <div class="mb-6">
                    <h4 class="text-lg font-bold text-red-800 mb-4">CÃ¡c cÃ¢u báº¡n lÃ m sai (${vocabularyTestMistakes.length} cÃ¢u):</h4>
                    ${mistakesHtml}
                    <div class="text-center mt-6">
                        <button id="backToVocabTest" class="bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-lg font-medium transition-colors">
                            â† Quay láº¡i káº¿t quáº£
                        </button>
                    </div>
                </div>
            `;
        }



        // Update vocabulary display
        function updateVocabularyDisplay() {
            const word = vocabularyData[currentVocabularyIndex];
            document.getElementById('wordText').textContent = word.word;
            document.getElementById('wordType').textContent = `[${word.type}]`;
            document.getElementById('wordIPA').textContent = word.ipa;
            document.getElementById('wordMeaning').textContent = word.meaning;
            document.getElementById('wordExample').innerHTML = `<strong>Example:</strong> ${word.example}`;
            document.getElementById('currentWordIndex').textContent = currentVocabularyIndex + 1;
            document.getElementById('totalWords').textContent = vocabularyData.length;
            
            // Reset flip state
            isFlipped = false;
            document.getElementById('flashcard').classList.remove('flipped');
            
            // No auto-speak when changing words
        }

        // Flip flashcard
        function flipFlashcard() {
            const flashcard = document.getElementById('flashcard');
            isFlipped = !isFlipped;
            if (isFlipped) {
                flashcard.classList.add('flipped');
            } else {
                flashcard.classList.remove('flipped');
            }
        }

        // Navigation functions
        function nextWord() {
            if (currentVocabularyIndex < vocabularyData.length - 1) {
                currentVocabularyIndex++;
            } else {
                // Loop back to first word
                currentVocabularyIndex = 0;
            }
            updateVocabularyDisplay();
            updateVocabularyProgress();
            // Auto-speak the new word
            setTimeout(() => {
                speakWord(vocabularyData[currentVocabularyIndex].word);
            }, 300);
        }

        function prevWord() {
            if (currentVocabularyIndex > 0) {
                currentVocabularyIndex--;
            } else {
                // Loop to last word
                currentVocabularyIndex = vocabularyData.length - 1;
            }
            updateVocabularyDisplay();
            updateVocabularyProgress();
            // Auto-speak the new word
            setTimeout(() => {
                speakWord(vocabularyData[currentVocabularyIndex].word);
            }, 300);
        }

        // Show section
        function showSection(sectionName) {
            // Hide all sections
            document.getElementById('vocabularySection').style.display = 'none';
            document.getElementById('readingSection').style.display = 'none';
            document.getElementById('grammarSection').style.display = 'none';
            document.getElementById('heritageSection').style.display = 'none';
            
            // Show selected section
            document.getElementById(sectionName + 'Section').style.display = 'flex';
            
            // Generate reading quiz if entering reading section and not already generated
            if (sectionName === 'reading' && document.getElementById('readingQuiz').children.length === 0) {
                generateReadingQuiz();
            }
            
            // Update tab buttons
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active', 'border-indigo-500', 'text-indigo-600');
                button.classList.add('border-transparent', 'text-gray-500');
            });
            
            const activeTab = document.getElementById(sectionName + 'Tab');
            activeTab.classList.add('active', 'border-indigo-500', 'text-indigo-600');
            activeTab.classList.remove('border-transparent', 'text-gray-500');
            
            currentSection = sectionName;
        }

        // Generate reading quiz
        function generateReadingQuiz() {
            const quizContainer = document.getElementById('readingQuiz');
            quizContainer.innerHTML = '';
            
            readingQuestions.forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'mb-6';
                questionDiv.innerHTML = `
                    <div class="font-medium text-gray-900 mb-3">${index + 1}. ${q.question}</div>
                    <div class="space-y-2">
                        ${q.options.map((option, optionIndex) => `
                            <div class="quiz-option border border-gray-200 rounded-lg p-3 hover:border-indigo-300 transition-colors" 
                                 data-question="${index}" data-option="${optionIndex}">
                                <label class="flex items-center cursor-pointer">
                                    <input type="radio" name="question${index}" value="${optionIndex}" class="mr-3">
                                    <span>${option}</span>
                                </label>
                            </div>
                        `).join('')}
                    </div>
                `;
                quizContainer.appendChild(questionDiv);
            });
            
            // Add submit button
            const submitDiv = document.createElement('div');
            submitDiv.className = 'text-center mt-8';
            submitDiv.innerHTML = `
                <button id="submitReadingQuiz" class="bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-3 rounded-lg font-medium transition-colors">
                    Ná»™p bÃ i
                </button>
            `;
            quizContainer.appendChild(submitDiv);
        }

        // Check reading quiz
        function checkReadingQuiz() {
            let correct = 0;
            const total = readingQuestions.length;
            
            readingQuestions.forEach((q, index) => {
                const selectedOption = document.querySelector(`input[name="question${index}"]:checked`);
                const questionDiv = document.querySelector(`[data-question="${index}"]`).parentElement;
                
                if (selectedOption) {
                    const selectedValue = parseInt(selectedOption.value);
                    const optionDiv = document.querySelector(`[data-question="${index}"][data-option="${selectedValue}"]`);
                    
                    if (selectedValue === q.correct) {
                        correct++;
                        optionDiv.classList.add('correct');
                        playCorrectSound();
                    } else {
                        optionDiv.classList.add('incorrect');
                        playIncorrectSound();
                        // Show correct answer
                        const correctDiv = document.querySelector(`[data-question="${index}"][data-option="${q.correct}"]`);
                        correctDiv.classList.add('correct');
                    }
                }
            });
            
            // Update progress
            const percentage = Math.round((correct / total) * 100);
            progressData.progress_reading = percentage;
            progressData.completed_reading_quiz = true;
            updateProgressDisplay();
            saveProgress();
            
            // Show result
            document.getElementById('readingScore').textContent = `${correct}/${total} (${percentage}%)`;
            document.getElementById('readingResult').classList.remove('hidden');
            document.getElementById('submitReadingQuiz').style.display = 'none';
        }

        // Show grammar content
        function showGrammarContent(topic) {
            const contentDiv = document.getElementById('grammarContent');
            
            if (topic === 'exercises') {
                generateGrammarExercises();
            } else {
                const content = grammarContent[topic];
                contentDiv.innerHTML = `
                    <div class="fade-in">
                        ${content.content}
                    </div>
                `;
            }
            
            // Update active topic
            document.querySelectorAll('.grammar-topic').forEach(t => {
                t.classList.remove('bg-indigo-600', 'text-white', 'border-indigo-600');
                t.classList.add('bg-white', 'text-gray-900', 'border-gray-200');
            });
            
            const activeTopic = document.querySelector(`[data-topic="${topic}"]`);
            if (topic === 'exercises') {
                activeTopic.classList.add('bg-indigo-600', 'text-white', 'border-indigo-600');
                activeTopic.classList.remove('bg-white', 'text-gray-900', 'border-gray-200');
            } else {
                activeTopic.classList.add('bg-indigo-100', 'border-indigo-300');
                activeTopic.classList.remove('bg-white', 'border-gray-200');
            }
        }

        // Generate grammar exercises
        function generateGrammarExercises() {
            const contentDiv = document.getElementById('grammarContent');
            contentDiv.innerHTML = `
                <div class="fade-in">
                    <h4 class="text-base font-bold mb-4">BÃ i táº­p tá»•ng há»£p - 30 cÃ¢u tráº¯c nghiá»‡m</h4>
                    <div id="grammarExercises" class="space-y-4">
                        ${grammarExercises.map((q, index) => `
                            <div class="mb-4">
                                <div class="font-medium text-gray-900 mb-2 text-sm">${index + 1}. ${q.question}</div>
                                <div class="space-y-1">
                                    ${q.options.map((option, optionIndex) => `
                                        <div class="quiz-option border border-gray-200 rounded-lg p-2 hover:border-indigo-300 transition-colors" 
                                             data-question="${index}" data-option="${optionIndex}">
                                            <label class="flex items-center cursor-pointer">
                                                <input type="radio" name="grammar${index}" value="${optionIndex}" class="mr-2">
                                                <span class="text-sm">${option}</span>
                                            </label>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        `).join('')}
                    </div>
                    <div class="text-center mt-6">
                        <button id="submitGrammarQuiz" class="bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2 rounded-lg font-medium transition-colors">
                            ğŸ“ Ná»™p bÃ i
                        </button>
                    </div>
                    <div id="grammarResult" class="mt-4 hidden">
                        <div class="text-center">
                            <div id="grammarScore" class="text-xl font-bold text-green-600 mb-2"></div>
                            <button id="retakeGrammarQuiz" class="bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2 rounded-lg font-medium transition-colors">
                                ğŸ”„ LÃ m láº¡i
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        // Check grammar quiz
        function checkGrammarQuiz() {
            let correct = 0;
            const total = grammarExercises.length;
            
            grammarExercises.forEach((q, index) => {
                const selectedOption = document.querySelector(`input[name="grammar${index}"]:checked`);
                
                if (selectedOption) {
                    const selectedValue = parseInt(selectedOption.value);
                    const optionDiv = document.querySelector(`[data-question="${index}"][data-option="${selectedValue}"]`);
                    
                    if (selectedValue === q.correct) {
                        correct++;
                        optionDiv.classList.add('correct');
                        playCorrectSound();
                    } else {
                        optionDiv.classList.add('incorrect');
                        playIncorrectSound();
                        // Show correct answer
                        const correctDiv = document.querySelector(`[data-question="${index}"][data-option="${q.correct}"]`);
                        correctDiv.classList.add('correct');
                    }
                }
            });
            
            // Update progress
            const percentage = Math.round((correct / total) * 100);
            progressData.progress_grammar = percentage;
            progressData.completed_grammar_exercises = true;
            updateProgressDisplay();
            saveProgress();
            
            // Show result
            document.getElementById('grammarScore').textContent = `${correct}/${total} (${percentage}%)`;
            document.getElementById('grammarResult').classList.remove('hidden');
            document.getElementById('submitGrammarQuiz').style.display = 'none';
        }

        // Element SDK implementation
        async function onConfigChange(config) {
            const unitTitle = config.unit_title || defaultConfig.unit_title;
            const homeUrl = config.home_url || defaultConfig.home_url;
            
            document.getElementById('unitTitle').textContent = unitTitle;
            document.getElementById('homeButton').onclick = () => window.open(homeUrl, '_blank', 'noopener,noreferrer');
        }

        function mapToCapabilities(config) {
            return {
                recolorables: [],
                borderables: [],
                fontEditable: undefined,
                fontSizeable: undefined
            };
        }

        function mapToEditPanelValues(config) {
            return new Map([
                ["unit_title", config.unit_title || defaultConfig.unit_title],
                ["home_url", config.home_url || defaultConfig.home_url]
            ]);
        }

        // Initialize everything
        async function init() {
            // Initialize audio
            initAudio();
            
            // Initialize Data SDK
            if (window.dataSdk) {
                const result = await window.dataSdk.init(dataHandler);
                if (!result.isOk) {
                    console.error('Failed to initialize data SDK');
                }
            }
            
            // Initialize Element SDK
            if (window.elementSdk) {
                await window.elementSdk.init({
                    defaultConfig,
                    onConfigChange,
                    mapToCapabilities,
                    mapToEditPanelValues
                });
            }
            
            // Set up event listeners
            document.getElementById('vocabularyTab').addEventListener('click', () => showSection('vocabulary'));
            document.getElementById('readingTab').addEventListener('click', () => showSection('reading'));
            document.getElementById('grammarTab').addEventListener('click', () => showSection('grammar'));
            document.getElementById('heritageTab').addEventListener('click', () => showSection('heritage'));
            
            // Vocabulary mode toggle
            document.getElementById('learnModeBtn').addEventListener('click', () => switchVocabularyMode('learn'));
            document.getElementById('testModeBtn').addEventListener('click', () => switchVocabularyMode('test'));
            

            
            document.getElementById('nextWord').addEventListener('click', nextWord);
            document.getElementById('prevWord').addEventListener('click', prevWord);
            document.getElementById('flashcard').addEventListener('click', flipFlashcard);
            
            // Keyboard navigation
            document.addEventListener('keydown', (e) => {
                if (currentSection === 'vocabulary') {
                    if (e.code === 'Space') {
                        e.preventDefault();
                        flipFlashcard();
                    } else if (e.code === 'ArrowRight') {
                        e.preventDefault();
                        nextWord();
                    } else if (e.code === 'ArrowLeft') {
                        e.preventDefault();
                        prevWord();
                    }
                }
            });
            
            // Grammar topics
            document.querySelectorAll('.grammar-topic').forEach(topic => {
                topic.addEventListener('click', () => {
                    const topicName = topic.dataset.topic;
                    showGrammarContent(topicName);
                });
            });
            
            // Vocabulary test navigation
            document.getElementById('prevQuestion').addEventListener('click', prevQuestion);
            document.getElementById('nextQuestion').addEventListener('click', nextQuestion);
            
            // Event delegation for dynamic content
            document.addEventListener('click', (e) => {
                if (e.target.id === 'submitReadingQuiz') {
                    checkReadingQuiz();
                } else if (e.target.id === 'retakeReadingQuiz') {
                    generateReadingQuiz();
                    document.getElementById('readingResult').classList.add('hidden');
                } else if (e.target.id === 'submitGrammarQuiz') {
                    checkGrammarQuiz();
                } else if (e.target.id === 'retakeGrammarQuiz') {
                    generateGrammarExercises();
                } else if (e.target.id === 'submitVocabularyTest') {
                    checkVocabularyTest();
                } else if (e.target.id === 'retakeVocabularyTest') {
                    // Reset navigation buttons
                    document.getElementById('prevQuestion').style.display = 'block';
                    document.getElementById('nextQuestion').style.display = 'block';
                    document.getElementById('submitVocabularyTest').style.display = 'block';
                    generateVocabularyTest();
                } else if (e.target.id === 'reviewMistakes') {
                    showVocabularyMistakes();
                } else if (e.target.id === 'backToVocabTest') {
                    generateVocabularyTest();
                    // Show result again
                    setTimeout(() => {
                        document.getElementById('vocabularyTestResult').classList.remove('hidden');
                        document.getElementById('submitVocabularyTest').style.display = 'none';
                    }, 100);
                }
            });
            
            // Initialize displays
            updateVocabularyDisplay();
            updateProgressDisplay();
            showSection('vocabulary');
            
            // Apply initial config
            await onConfigChange(window.elementSdk?.config || defaultConfig);
        }

        // Start the app
        init();
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9974bfc8a0a8fda4',t:'MTc2MTkzMDQ1MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
